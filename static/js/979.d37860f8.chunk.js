"use strict";(self.webpackChunkhr_start_up_admin_panel=self.webpackChunkhr_start_up_admin_panel||[]).push([[979],{7834:function(n,e,t){t.d(e,{m:function(){return l}});var i=t(5671),r=t(3144),a=t(46),l=function(){function n(){(0,i.Z)(this,n)}return(0,r.Z)(n,null,[{key:"fetchRoles",value:function(){return a.e.get("/admin/roles")}},{key:"fetchCreateRole",value:function(n){return a.e.post("/admin/roles/create",{value:n})}},{key:"fetchDeleteRole",value:function(n){return a.e.delete("/admin/roles/".concat(n))}},{key:"fetchUpdateRole",value:function(n,e){return a.e.put("/admin/roles/".concat(n),{value:e})}},{key:"fetchRole",value:function(n){return a.e.get("/admin/roles/".concat(n))}}]),n}()},5457:function(n,e,t){t.d(e,{V:function(){return D},w:function(){return N}});var i,r,a,l,o,s,c,u,d=t(1413),p=(t(2791),t(3131)),x=t(3538),f=t(168),h=t(6444),v=t(2450),m=h.ZP.div(i||(i=(0,f.Z)(["\n  display: flex;\n  justify-content: space-evenly;\n  gap: 16px;\n"]))),g=(0,h.ZP)(x.zx)(r||(r=(0,f.Z)(["\n  width: 50%;\n"]))),Z=h.ZP.div(a||(a=(0,f.Z)(["\n  padding: 56px 0;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 16px;\n"]))),j=h.ZP.div(l||(l=(0,f.Z)(["\n  width: 56px;\n  height: 56px;\n  padding: 16px;\n  border-radius: 50%;\n  &.answer {\n    color: ",";\n    background-color: ",";\n  }\n  &.notification {\n    color: ",";\n    background-color: ",";\n  }\n  &.warning {\n    color: ",";\n    background-color: ",";\n  }\n  &.info {\n    color: ",";\n    background-color: ",";\n  }\n"])),v.D.yellow70,v.D.yellow30,v.D.green70,v.D.green30,v.D.red70,v.D.red30,v.D.blue70,v.D.blue30),w=h.ZP.div(o||(o=(0,f.Z)(["\n  text-align: center;\n"]))),k=h.ZP.div(s||(s=(0,f.Z)(["\n  width: 600px;\n  position: relative;\n"]))),C=h.ZP.div(c||(c=(0,f.Z)(["\n  position: absolute;\n  z-index: 1;\n  top: 0;\n  right: 0;\n  cursor: pointer;\n  color: ",";\n  transition: color 0.2s;\n\n  &:hover {\n    color: ",";\n  }\n"])),v.D.gray60,v.D.darkGray150),y=h.ZP.div(u||(u=(0,f.Z)(["\n  font-weight: 600;\n  font-size: 24px;\n  line-height: 32px;\n  letter-spacing: -0.019em;\n"]))),b=t(184),N=function(n){return n.ANSWER="answer",n.NOTIFICATION="notification",n.WARNING="warning",n.INFO="info",n}({}),P={answer:"circle-warning",notification:"circle-information",warning:"warning",info:"circle-information"},D=function(n){var e=n.loading,t=n.className,i=n.title,r=n.type,a=n.closeHandler,l=n.onConfirm,o=n.onOk,s=n.actions,c=n.children;return(0,b.jsx)(x.u_,{open:!0,onClose:a,children:(0,b.jsxs)(k,{className:t,children:[(0,b.jsx)(C,{onClick:a,children:(0,b.jsx)(p.I,{type:"close"})}),(0,b.jsxs)(Z,{children:[r&&(0,b.jsx)(j,{className:r,children:(0,b.jsx)(p.I,{type:P[r]})}),i&&(0,b.jsx)(y,{children:i}),(0,b.jsx)(w,{children:c})]}),(0,b.jsx)(m,{children:l?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(g,(0,d.Z)((0,d.Z)({},null===s||void 0===s?void 0:s.submit),{},{variant:r===N.WARNING?x.Wu.DANGER:x.Wu.FILLED,onClick:l,isLoading:e,disabled:e})),(0,b.jsx)(g,(0,d.Z)((0,d.Z)({},null===s||void 0===s?void 0:s.cancel),{},{id:"ConfirmDialogCancel",variant:x.Wu.OUTLINE,onClick:a,disabled:e}))]}):(0,b.jsx)(g,(0,d.Z)({onClick:o,isLoading:e},null===s||void 0===s?void 0:s.ok))})]})})}},4979:function(n,e,t){t.r(e),t.d(e,{default:function(){return nn}});var i,r,a,l,o,s,c,u,d,p,x,f,h,v,m,g=t(4165),Z=t(5861),j=t(9439),w=t(2791),k=t(168),C=t(6444),y=C.ZP.div(i||(i=(0,k.Z)(["\n  display: flex;\n  flex-direction: column;\n  grid-row-gap: 24px;\n  width: 100%;\n  height: 100%;\n  padding: 24px;\n"]))),b=C.ZP.div(r||(r=(0,k.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  height: 100%;\n"]))),N=C.ZP.div(a||(a=(0,k.Z)(["\n  display: flex;\n  flex-direction: column;\n  grid-auto-rows: max-content;\n  grid-gap: 14px;\n  width: 100%;\n  height: 100%;\n"]))),P=t(3538),D=t(6068),I=t(9514),_=t(5591),W=t(2450),E=C.ZP.div(l||(l=(0,k.Z)(["\n  display: flex;\n  align-items: center;\n  grid-column-gap: 10px;\n  width: 100%;\n  background-color: ",";\n  padding: 10px;\n  border-radius: 5px;\n  cursor: pointer;\n  transition: background-color .3s;\n  border: 1px solid ",";\n\n  &:hover {\n    background: ",";\n  }\n"])),W.D.white,W.D.lightGray40,W.D.lightGray20),R=C.ZP.div(o||(o=(0,k.Z)(["\n  display: flex;\n  align-items: center;\n"]))),S=C.ZP.div(s||(s=(0,k.Z)(["\n  display: flex;\n  align-items: center;\n  grid-column-gap: 10px;\n"]))),A=(0,C.ZP)(P.qb)(c||(c=(0,k.Z)(["\n  margin-left: auto;\n"]))),L=t(184),O=function(n){var e=n.user,t=n.onClick;return(0,L.jsxs)(E,{onClick:t,children:[(0,L.jsx)(P.qE,{userId:e.id,src:e.avatar,firstName:e.firstName,lastName:e.lastName}),(0,L.jsxs)(R,{children:[e.lastName," ",e.firstName," (",e.email,")"]}),(0,L.jsx)(S,{children:e.roles.map((function(n){return(0,L.jsx)(P.uU,{role:n.value})}))}),(0,L.jsx)(A,{status:e.status})]})},T=C.ZP.div(u||(u=(0,k.Z)(["\n  display: flex;\n  flex-direction: column;\n  grid-row-gap: 18px;\n  width: 100%;\n  height: 100%;\n"]))),G=C.ZP.div(d||(d=(0,k.Z)(["\n  display: flex;\n  width: 100%;\n  flex-direction: column;\n  align-items: center;\n  grid-gap: 10px;\n"]))),U=C.ZP.div(p||(p=(0,k.Z)(["\n  display: flex;\n  align-items: center;\n  gap: 10px;\n"]))),z=C.ZP.div(x||(x=(0,k.Z)(["\n  display: flex;\n  color: ",";\n    padding: 5px;\n    border-radius: 5px;\n    background-color: ",";\n"])),W.D.gray90,W.D.lightGray10),F=C.ZP.div(f||(f=(0,k.Z)(["\n  font-size: 24px;\n"]))),q=C.ZP.div(h||(h=(0,k.Z)(["\n  margin-top: auto;\n  display: flex;\n  align-items: center;\n  grid-column-gap: 24px;\n"]))),V=t(7518),B=t(5457),H=function(n){var e=n.onClose,t=n.user,i=n.refetch,r=(0,w.useState)(!1),a=(0,j.Z)(r,2),l=a[0],o=a[1],s=(0,D.t)(),c=t.status===V.J.ACTIVE,u=function(){var n=(0,Z.Z)((0,g.Z)().mark((function n(){var r,a;return(0,g.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,o(!0),!c){n.next=9;break}return n.next=5,_._.banUser(t.id);case 5:r=n.sent,(0,I.x)(r.data.message),n.next=13;break;case 9:return n.next=11,_._.unbanUser(t.id);case 11:a=n.sent,(0,I.x)(a.data.message);case 13:i(),s.close(),e(),n.next=21;break;case 18:n.prev=18,n.t0=n.catch(0),(0,I._)(n.t0);case 21:return n.prev=21,o(!1),n.finish(21);case 24:case"end":return n.stop()}}),n,null,[[0,18,21,24]])})));return function(){return n.apply(this,arguments)}}();return(0,L.jsxs)(P.Bm,{titleText:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c",onClose:e,closeOnDocumentClick:!1,children:[(0,L.jsxs)(T,{children:[(0,L.jsxs)(G,{children:[(0,L.jsx)(P.qE,{userId:null===t||void 0===t?void 0:t.id,firstName:null===t||void 0===t?void 0:t.firstName,lastName:null===t||void 0===t?void 0:t.lastName,src:null===t||void 0===t?void 0:t.avatar,size:P.DZ.EXTRA,figure:"square"}),(0,L.jsxs)(F,{children:[null===t||void 0===t?void 0:t.lastName," ",null===t||void 0===t?void 0:t.firstName]}),(0,L.jsx)(P.qb,{status:null===t||void 0===t?void 0:t.status})]}),(0,L.jsx)(P.bW,{text:"\u0420\u043e\u043b\u0438:",info:(0,L.jsx)(U,{children:null===t||void 0===t?void 0:t.roles.map((function(n){return(0,L.jsx)(P.uU,{role:n.value},n.id)}))})}),(0,L.jsx)(P.bW,{text:"\u041f\u043e\u0447\u0442\u0430:",info:(0,L.jsx)(z,{children:null===t||void 0===t?void 0:t.email})}),(0,L.jsx)(q,{children:(0,L.jsx)(P.zx,{fullWidth:!0,onClick:s.open,variant:c?P.Wu.DANGER:P.Wu.FILLED,text:c?"\u0417\u0430\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u0442\u044c":"\u0420\u0430\u0437\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u0442\u044c"})})]}),s.isOpen&&(0,L.jsxs)(B.V,{type:c?B.w.WARNING:B.w.ANSWER,closeHandler:s.close,onConfirm:u,actions:{cancel:{text:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c",onClick:s.close},submit:{isLoading:l,text:c?"\u0417\u0430\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u0442\u044c":"\u0420\u0430\u0437\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u0442\u044c"}},children:["\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 ",c?"\u0437\u0430\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u0442\u044c":"\u0440\u0430\u0437\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u0442\u044c"," \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f ",t.lastName," ",t.firstName," (",t.email,")?"]})]})},J=t(1413),M=C.ZP.form(v||(v=(0,k.Z)(["\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  height: 100%;\n  grid-row-gap: 24px;\n"]))),Q=C.ZP.div(m||(m=(0,k.Z)(["\n  margin-top: auto;\n  display: flex;\n  align-items: center;\n  grid-column-gap: 24px;\n"]))),X=t(5705),K=t(6975),Y=t(7834),$=function(n){var e=n.refetch,t=n.onClose,i=(0,w.useState)(!1),r=(0,j.Z)(i,2),a=r[0],l=r[1],o=(0,w.useState)(!0),s=(0,j.Z)(o,2),c=s[0],u=s[1],d=(0,w.useState)([]),p=(0,j.Z)(d,2),x=p[0],f=p[1],h=(0,X.TA)({initialValues:{password:"",email:"",lastName:"",roles:[],firstName:""},onSubmit:function(){var n=(0,Z.Z)((0,g.Z)().mark((function n(i){return(0,g.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,l(!0),n.next=4,_._.fetchCreateUser((0,J.Z)((0,J.Z)({},i),{},{roles:i.roles.map((function(n){return n.value}))}));case 4:e(),t(),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),(0,I._)(n.t0);case 11:return n.prev=11,l(!1),n.finish(11);case 14:case"end":return n.stop()}}),n,null,[[0,8,11,14]])})));return function(e){return n.apply(this,arguments)}}()}),v=function(){var n=(0,Z.Z)((0,g.Z)().mark((function n(){var e;return(0,g.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,u(!0),n.next=4,Y.m.fetchRoles();case 4:e=n.sent,f(e.data.map((function(n){return{value:n.id,label:n.value}}))),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),(0,I._)(n.t0);case 11:return n.prev=11,u(!1),n.finish(11);case 14:case"end":return n.stop()}}),n,null,[[0,8,11,14]])})));return function(){return n.apply(this,arguments)}}();return(0,w.useEffect)((function(){v()}),[]),(0,L.jsx)(P.Bm,{titleText:"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",onClose:t,closeOnDocumentClick:!1,children:(0,L.jsxs)(M,{onSubmit:h.handleSubmit,children:[(0,L.jsx)(P.II,{autoComplete:"email",name:"email",onChange:h.handleChange,value:h.values.email,caption:"Email",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 email"}),(0,L.jsx)(P.II,{name:"lastName",onChange:h.handleChange,value:h.values.lastName,caption:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0444\u0430\u043c\u0438\u043b\u0438\u044e"}),(0,L.jsx)(P.II,{name:"firstName",onChange:h.handleChange,value:h.values.firstName,caption:"\u0418\u043c\u044f",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f"}),(0,L.jsx)(P.II,{autoComplete:"new-password",type:"password",name:"password",onChange:h.handleChange,value:h.values.password,caption:"\u041f\u0430\u0440\u043e\u043b\u044c",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c"}),(0,L.jsx)(K.P,{placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0440\u043e\u043b\u0438",caption:"\u0420\u043e\u043b\u0438",multi:!0,options:x,loading:c,value:h.values.roles,onChange:function(n){h.setFieldValue("roles",n)}}),(0,L.jsxs)(Q,{children:[(0,L.jsx)(P.zx,{text:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c",fullWidth:!0,isLoading:a}),(0,L.jsx)(P.zx,{variant:P.Wu.OUTLINE,text:"\u041e\u0442\u043c\u0435\u043d\u0430",fullWidth:!0,onClick:t})]})]})})},nn=function(){var n=(0,w.useState)(!0),e=(0,j.Z)(n,2),t=e[0],i=e[1],r=(0,w.useState)(),a=(0,j.Z)(r,2),l=a[0],o=a[1],s=(0,w.useState)([]),c=(0,j.Z)(s,2),u=c[0],d=c[1],p=(0,D.t)(),x=p.isOpen,f=p.open,h=p.close,v=function(){var n=(0,Z.Z)((0,g.Z)().mark((function n(){var e;return(0,g.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,i(!0),n.next=4,_._.fetchUsers();case 4:e=n.sent,d(e.data),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),(0,I._)(n.t0);case 11:return n.prev=11,i(!1),n.finish(11);case 14:case"end":return n.stop()}}),n,null,[[0,8,11,14]])})));return function(){return n.apply(this,arguments)}}();(0,w.useEffect)((function(){v()}),[]);var m=(0,w.useMemo)((function(){return t?(0,L.jsx)(P.QP,{}):u.length?(0,L.jsx)(N,{children:u.map((function(n){return(0,L.jsx)(O,{user:n,refetch:v,onClick:function(){o(n)}},n.id)}))}):(0,L.jsx)(b,{children:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439 \u043d\u0435\u0442\u0443"})}),[u,t]);return(0,L.jsxs)(y,{children:[(0,L.jsx)(P.mr,{title:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438",buttonText:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",onButtonClick:f}),m,x&&(0,L.jsx)($,{onClose:h,refetch:v}),l&&(0,L.jsx)(H,{user:l,onClose:function(){o(void 0)},refetch:v})]})}}}]);
//# sourceMappingURL=979.d37860f8.chunk.js.map
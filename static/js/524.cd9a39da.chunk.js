"use strict";(self.webpackChunkhr_start_up_admin_panel=self.webpackChunkhr_start_up_admin_panel||[]).push([[524],{3524:function(e,n,t){t.r(n),t.d(n,{default:function(){return F}});var r,i,a,l,c,o,s,u,d,p,h,x,f=t(4165),v=t(5861),m=t(9439),Z=t(2791),g=t(168),j=t(6444),w=j.ZP.div(r||(r=(0,g.Z)(["\n  display: flex;\n  flex-direction: column;\n  grid-row-gap: 24px;\n  width: 100%;\n  height: 100%;\n  padding: 24px;\n"]))),k=j.ZP.div(i||(i=(0,g.Z)(["\n  display: flex;\n  flex-direction: column;\n  grid-row-gap: 14px;\n  width: 100%;\n  height: fit-content;\n  overflow-x: auto;\n"]))),y=j.ZP.div(a||(a=(0,g.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  height: 100%;\n"]))),C=t(5033),b=t(4469),I=t(9514),D=t(5639),P=t(7834),S=t(2450),_=t(3131),E=j.ZP.div(l||(l=(0,g.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  width: 100%;\n  padding: 10px;\n  border-radius: 5px;\n  border: 1px solid ",";\n  background: ",";\n"])),S.D.lightGray40,S.D.white),N=j.ZP.div(c||(c=(0,g.Z)(["\n  font-size: 15px;\n"]))),B=j.ZP.div(o||(o=(0,g.Z)(["\n  display: flex;\n  align-items: center;\n  grid-column-gap: 10px;\n"]))),T=(0,j.ZP)(_.I)(s||(s=(0,g.Z)(["\n  cursor: pointer;\n  color: ",";\n  transition: color 0.2s;\n\n  &:hover {\n    color: ",";\n  }\n"])),S.D.red60,S.D.red80),G=(0,j.ZP)(_.I)(u||(u=(0,g.Z)(["\n  cursor: pointer;\n  color: ",";\n  transition: color 0.2s;\n\n  &:hover {\n    color: ",";\n  }\n"])),S.D.darkGray110,S.D.darkGray140),z=t(5457),A=j.ZP.form(d||(d=(0,g.Z)(["\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  min-height: 100%;\n  height: fit-content;\n  grid-row-gap: 24px;\n"]))),L=j.ZP.div(p||(p=(0,g.Z)(["\n  margin-top: auto;\n  display: flex;\n  align-items: center;\n  grid-column-gap: 24px;\n"]))),O=t(5705),R=t(6727),W=t(184),M=R.Ry().shape({value:R.Z_().required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435")}),H=function(e){var n=e.close,t=e.refetch,r=e.role,i=(0,Z.useState)(!1),a=(0,m.Z)(i,2),l=a[0],c=a[1],o=(0,O.TA)({initialValues:{value:r.value},validationSchema:M,onSubmit:function(){var e=(0,v.Z)((0,f.Z)().mark((function e(i){return(0,f.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c(!0),e.next=4,P.m.fetchUpdateRole(r.id,i.value);case 4:return(0,I.x9)("\u0420\u043e\u043b\u044c ".concat(i.value," \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0430")),c(!1),n(),e.next=9,t();case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),(0,I.Hn)(e.t0,o);case 14:return e.prev=14,c(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[0,11,14,17]])})));return function(n){return e.apply(this,arguments)}}()});return(0,W.jsx)(C.Bm,{titleText:"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0440\u043e\u043b\u0438",onClose:n,closeOnDocumentClick:!1,children:(0,W.jsxs)(A,{onSubmit:o.handleSubmit,children:[(0,W.jsx)(C.II,{name:"value",onChange:o.handleChange,value:o.values.value,caption:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0440\u043e\u043b\u0438",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0440\u043e\u043b\u0438",isError:Boolean(o.errors.value),errorText:o.errors.value,onBlur:o.handleBlur}),(0,W.jsxs)(L,{children:[(0,W.jsx)(C.zx,{text:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",fullWidth:!0,isLoading:l}),(0,W.jsx)(C.zx,{variant:C.Wu.OUTLINE,text:"\u041e\u0442\u043c\u0435\u043d\u0430",fullWidth:!0,onClick:n})]})]})})},U=t(5204),V=function(e){var n=e.role,t=e.refetch,r=(0,Z.useState)(!1),i=(0,m.Z)(r,2),a=i[0],l=i[1],c=(0,b.te)(),o=c.isOpen,s=c.open,u=c.close,d=(0,b.te)(),p=(0,U.E)().execIf,h=function(){var e=(0,v.Z)((0,f.Z)().mark((function e(){return(0,f.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,l(!0),e.next=4,P.m.fetchDeleteRole(n.id);case 4:t(),u(),(0,I.x9)("\u0420\u043e\u043b\u044c ".concat(n.value," \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0443\u0434\u0430\u043b\u0435\u043d\u0430")),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),(0,I._N)(e.t0);case 12:return e.prev=12,l(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])})));return function(){return e.apply(this,arguments)}}();return(0,W.jsxs)(E,{children:[(0,W.jsxs)(N,{children:[n.value," (",n.id,")"]}),(0,W.jsxs)(B,{children:[n.canDeleteEdit&&p(D.G.ADMIN,(0,W.jsx)(G,{type:"edit",size:_.J.XL,onClick:d.open})),n.canDeleteEdit&&p(D.G.ADMIN,(0,W.jsx)(T,{type:"delete",size:_.J.XL,onClick:s}))]}),o&&(0,W.jsxs)(z.V,{type:z.w.WARNING,closeHandler:u,onConfirm:h,actions:{cancel:{text:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c",onClick:u},submit:{isLoading:a,text:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"}},children:["\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0440\u043e\u043b\u044c ",n.value,"?"]}),d.isOpen&&(0,W.jsx)(H,{role:n,close:d.close,refetch:t})]})},q=j.ZP.form(h||(h=(0,g.Z)(["\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  min-height: 100%;\n  height: fit-content;\n  grid-row-gap: 24px;\n"]))),J=j.ZP.div(x||(x=(0,g.Z)(["\n  margin-top: auto;\n  display: flex;\n  align-items: center;\n  grid-column-gap: 24px;\n"]))),X=R.Ry().shape({value:R.Z_().required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435")}),Q=function(e){var n=e.close,t=e.refetch,r=(0,Z.useState)(!1),i=(0,m.Z)(r,2),a=i[0],l=i[1],c=(0,O.TA)({initialValues:{value:""},validationSchema:X,onSubmit:function(){var e=(0,v.Z)((0,f.Z)().mark((function e(r){return(0,f.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,l(!0),e.next=4,P.m.fetchCreateRole(r.value);case 4:return(0,I.x9)("\u0420\u043e\u043b\u044c ".concat(r.value," \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u043d\u0430")),l(!1),n(),e.next=9,t();case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),(0,I.Hn)(e.t0,c);case 14:return e.prev=14,l(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[0,11,14,17]])})));return function(n){return e.apply(this,arguments)}}()});return(0,W.jsx)(C.Bm,{titleText:"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0440\u043e\u043b\u0438",onClose:n,closeOnDocumentClick:!1,children:(0,W.jsxs)(q,{onSubmit:c.handleSubmit,children:[(0,W.jsx)(C.II,{name:"value",onChange:c.handleChange,value:c.values.value,caption:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0440\u043e\u043b\u0438",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0440\u043e\u043b\u0438",isError:Boolean(c.errors.value),errorText:c.errors.value,onBlur:c.handleBlur}),(0,W.jsxs)(J,{children:[(0,W.jsx)(C.zx,{text:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c",fullWidth:!0,isLoading:a}),(0,W.jsx)(C.zx,{variant:C.Wu.OUTLINE,text:"\u041e\u0442\u043c\u0435\u043d\u0430",fullWidth:!0,onClick:n})]})]})})},F=function(){var e=(0,b.te)(),n=e.isOpen,t=e.open,r=e.close,i=(0,Z.useState)(!0),a=(0,m.Z)(i,2),l=a[0],c=a[1],o=(0,Z.useState)([]),s=(0,m.Z)(o,2),u=s[0],d=s[1],p=(0,U.E)().execIf,h=function(){var e=(0,v.Z)((0,f.Z)().mark((function e(){var n;return(0,f.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c(!0),e.next=4,P.m.fetchRoles();case 4:n=e.sent,d(n.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),(0,I._N)(e.t0);case 11:return e.prev=11,c(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})));return function(){return e.apply(this,arguments)}}();(0,Z.useEffect)((function(){h()}),[]);var x=(0,Z.useMemo)((function(){return l?(0,W.jsx)(C.QP,{}):u.length?(0,W.jsx)(k,{children:u.map((function(e){return(0,W.jsx)(V,{role:e,refetch:h},e.id)}))}):(0,W.jsx)(y,{children:"\u0420\u043e\u043b\u0435\u0439 \u043d\u0435\u0442"})}),[u,l]);return(0,W.jsxs)(w,{children:[(0,W.jsx)(C.mr,{title:"\u0420\u043e\u043b\u0438",buttonText:p(D.G.ADMIN,"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0440\u043e\u043b\u044c"),onButtonClick:p(D.G.ADMIN,t),count:"".concat(u.length," \u0440\u043e\u043b\u0435\u0439")}),x,n&&(0,W.jsx)(Q,{close:r,refetch:h})]})}},5204:function(e,n,t){t.d(n,{E:function(){return i}});var r=t(3494),i=function(){var e=(0,r.aC)().user;return{execIf:function(n,t){return null!==e&&void 0!==e&&e.roles.map((function(e){return e.value})).includes(n)?t:null}}}}}]);
//# sourceMappingURL=524.cd9a39da.chunk.js.map
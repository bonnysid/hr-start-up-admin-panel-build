"use strict";(self.webpackChunkhr_start_up_admin_panel=self.webpackChunkhr_start_up_admin_panel||[]).push([[375],{5457:function(n,e,i){i.d(e,{V:function(){return I},w:function(){return C}});var t,r,a,l,o,s,c,u,d=i(1413),x=(i(2791),i(3131)),v=i(6031),p=i(168),f=i(6444),h=i(2450),g=f.ZP.div(t||(t=(0,p.Z)(["\n  display: flex;\n  justify-content: space-evenly;\n  gap: 16px;\n"]))),m=(0,f.ZP)(v.zx)(r||(r=(0,p.Z)(["\n  width: 50%;\n"]))),Z=f.ZP.div(a||(a=(0,p.Z)(["\n  padding: 56px 0;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 16px;\n"]))),j=f.ZP.div(l||(l=(0,p.Z)(["\n  width: 56px;\n  height: 56px;\n  padding: 16px;\n  border-radius: 50%;\n  &.answer {\n    color: ",";\n    background-color: ",";\n  }\n  &.notification {\n    color: ",";\n    background-color: ",";\n  }\n  &.warning {\n    color: ",";\n    background-color: ",";\n  }\n  &.info {\n    color: ",";\n    background-color: ",";\n  }\n"])),h.D.yellow70,h.D.yellow30,h.D.green70,h.D.green30,h.D.red70,h.D.red30,h.D.blue70,h.D.blue30),b=f.ZP.div(o||(o=(0,p.Z)(["\n  text-align: center;\n  width: 100%;\n"]))),w=f.ZP.div(s||(s=(0,p.Z)(["\n  width: 600px;\n  position: relative;\n"]))),N=f.ZP.div(c||(c=(0,p.Z)(["\n  position: absolute;\n  z-index: 1;\n  top: 0;\n  right: 0;\n  cursor: pointer;\n  color: ",";\n  transition: color 0.2s;\n\n  &:hover {\n    color: ",";\n  }\n"])),h.D.gray60,h.D.darkGray150),k=f.ZP.div(u||(u=(0,p.Z)(["\n  font-weight: 600;\n  font-size: 24px;\n  line-height: 32px;\n  letter-spacing: -0.019em;\n"]))),y=i(184),C=function(n){return n.ANSWER="answer",n.NOTIFICATION="notification",n.WARNING="warning",n.INFO="info",n}({}),D={answer:"circle-warning",notification:"circle-information",warning:"warning",info:"circle-information"},I=function(n){var e=n.loading,i=n.className,t=n.title,r=n.type,a=n.closeHandler,l=n.onConfirm,o=n.onOk,s=n.actions,c=n.children;return(0,y.jsx)(v.u_,{open:!0,closeOnDocumentClick:!1,onClose:a,children:(0,y.jsxs)(w,{className:i,children:[(0,y.jsx)(N,{onClick:a,children:(0,y.jsx)(x.I,{type:"close"})}),(0,y.jsxs)(Z,{children:[r&&(0,y.jsx)(j,{className:r,children:(0,y.jsx)(x.I,{type:D[r]})}),t&&(0,y.jsx)(k,{children:t}),(0,y.jsx)(b,{children:c})]}),(0,y.jsx)(g,{children:l?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(m,(0,d.Z)((0,d.Z)({},null===s||void 0===s?void 0:s.submit),{},{variant:r===C.WARNING?v.Wu.DANGER:v.Wu.FILLED,onClick:l,isLoading:e,disabled:e})),(0,y.jsx)(m,(0,d.Z)((0,d.Z)({},null===s||void 0===s?void 0:s.cancel),{},{id:"ConfirmDialogCancel",variant:v.Wu.OUTLINE,onClick:a,disabled:e}))]}):(0,y.jsx)(m,(0,d.Z)({onClick:o,isLoading:e},null===s||void 0===s?void 0:s.ok))})]})})}},2375:function(n,e,i){i.d(e,{K:function(){return K}});var t,r,a,l,o,s,c,u,d,x,v,p,f,h=i(4165),g=i(5861),m=i(9439),Z=i(2791),j=i(168),b=i(6444),w=i(2450),N=i(6031),k=b.ZP.div(t||(t=(0,j.Z)(["\n  display: flex;\n  flex-direction: column;\n  grid-row-gap: 18px;\n  width: 100%;\n  height: 100%;\n"]))),y=(0,b.ZP)(N.gx)(r||(r=(0,j.Z)(["\n  width: 100%;\n  text-align: left;\n"]))),C=b.ZP.form(a||(a=(0,j.Z)(["\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  height: 100%;\n  grid-row-gap: 24px;\n"]))),D=b.ZP.div(l||(l=(0,j.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n  text-align: left;\n"]))),I=b.ZP.div(o||(o=(0,j.Z)(["\n  text-align: center;\n"]))),P=b.ZP.div(s||(s=(0,j.Z)(["\n  display: flex;\n  align-items: center;\n  gap: 10px;\n  justify-content: space-between;\n  width: 100%;\n"]))),W=b.ZP.div(c||(c=(0,j.Z)(["\n  font-weight: 600;\n  font-size: 18px;\n  line-height: 24px;\n  letter-spacing: -0.014em;\n"]))),R=b.ZP.div(u||(u=(0,j.Z)(["\n  display: flex;\n  width: 100%;\n  flex-direction: column;\n  align-items: center;\n  grid-gap: 10px;\n"]))),_=b.ZP.div(d||(d=(0,j.Z)(["\n  display: flex;\n  align-items: center;\n  gap: 10px;\n"]))),E=b.ZP.div(x||(x=(0,j.Z)(["\n  display: flex;\n  color: ",";\n    padding: 5px;\n    border-radius: 5px;\n    background-color: ",";\n"])),w.D.gray90,w.D.lightGray10),A=b.ZP.div(v||(v=(0,j.Z)(["\n  font-size: 24px;\n"]))),F=b.ZP.div(p||(p=(0,j.Z)(["\n  margin-top: auto;\n  display: flex;\n  align-items: center;\n  grid-column-gap: 24px;\n"]))),S=b.ZP.div(f||(f=(0,j.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n  border-radius: 6px;\n  padding: 6px;\n  color: ",";\n  background-color: ",";\n"])),w.D.red90,w.D.red30),z=i(7518),L=i(4469),O=i(5457),G=i(5591),T=i(9514),V=i(595),U=i(5705),q=i(7834),H=i(5204),M=i(5639),B=i(7512),J=i(184),K=function(n){var e=n.onClose,i=n.refetch,t=n.userId,r=(0,Z.useState)(),a=(0,m.Z)(r,2),l=a[0],o=a[1],s=(0,B._)().createDialog,c=(0,Z.useState)(!1),u=(0,m.Z)(c,2),d=u[0],x=u[1],v=(0,Z.useState)(!1),p=(0,m.Z)(v,2),f=p[0],j=p[1],b=(0,Z.useState)(!1),w=(0,m.Z)(b,2),K=w[0],Q=w[1],X=(0,Z.useState)(""),Y=(0,m.Z)(X,2),$=Y[0],nn=Y[1],en=(0,Z.useState)(""),tn=(0,m.Z)(en,2),rn=tn[0],an=tn[1],ln=(0,L.te)(),on=(0,L.te)(),sn=(0,Z.useState)(!0),cn=(0,m.Z)(sn,2),un=cn[0],dn=cn[1],xn=(0,Z.useState)([]),vn=(0,m.Z)(xn,2),pn=vn[0],fn=vn[1],hn=(0,H.E)().execIf,gn=(0,U.TA)({initialValues:{roles:(null===l||void 0===l?void 0:l.roles.map((function(n){return{value:n.id,label:n.value}})))||[]},onSubmit:function(){var n=(0,g.Z)((0,h.Z)().mark((function n(e,r){var a;return(0,h.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=r.resetForm,n.prev=1,Q(!0),n.next=5,G._.changeRoles({roles:e.roles.map((function(n){return n.value})),userId:t});case 5:null===i||void 0===i||i(),x(!1),a(),(0,T.x9)("\u0420\u043e\u043b\u0438 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u044b"),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(1),(0,T._N)(n.t0);case 14:return n.prev=14,Q(!1),n.finish(14);case 17:case"end":return n.stop()}}),n,null,[[1,11,14,17]])})));return function(e,i){return n.apply(this,arguments)}}()}),mn=(null===l||void 0===l?void 0:l.status)===z.J.ACTIVE,Zn=function(){var n=(0,g.Z)((0,h.Z)().mark((function n(){var e,i;return(0,h.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,j(!0),n.next=4,G._.fetchUser(t);case 4:return i=n.sent,n.next=7,gn.setFieldValue("roles",null===(e=i.data)||void 0===e?void 0:e.roles.map((function(n){return{value:n.id,label:n.value}})));case 7:o(i.data),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),(0,T._N)(n.t0);case 13:return n.prev=13,j(!1),n.finish(13);case 16:case"end":return n.stop()}}),n,null,[[0,10,13,16]])})));return function(){return n.apply(this,arguments)}}(),jn=function(){var n=(0,g.Z)((0,h.Z)().mark((function n(){var r,a;return(0,h.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,j(!0),!mn){n.next=9;break}return n.next=5,G._.banUser({id:t,text:$});case 5:r=n.sent,(0,T.x9)(r.data.message),n.next=13;break;case 9:return n.next=11,G._.unbanUser(t);case 11:a=n.sent,(0,T.x9)(a.data.message);case 13:null===i||void 0===i||i(),ln.close(),e(),n.next=21;break;case 18:n.prev=18,n.t0=n.catch(0),(0,T._N)(n.t0);case 21:return n.prev=21,j(!1),n.finish(21);case 24:case"end":return n.stop()}}),n,null,[[0,18,21,24]])})));return function(){return n.apply(this,arguments)}}(),bn=function(){var n=(0,g.Z)((0,h.Z)().mark((function n(){var e;return(0,h.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,dn(!0),n.next=4,q.m.fetchRoles();case 4:e=n.sent,fn(e.data.map((function(n){return{value:n.id,label:n.value}}))),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),(0,T.Hn)(n.t0,gn);case 11:return n.prev=11,dn(!1),n.finish(11);case 14:case"end":return n.stop()}}),n,null,[[0,8,11,14]])})));return function(){return n.apply(this,arguments)}}(),wn=function(n){gn.setFieldValue("roles",n)};(0,Z.useEffect)((function(){bn(),Zn()}),[]);var Nn=function(){x(!1),gn.resetForm()},kn=function(){x(!0),gn.setFieldValue("roles",null===l||void 0===l?void 0:l.roles.map((function(n){return{value:n.id,label:n.value}})))},yn=(0,Z.useMemo)((function(){return f||!l?(0,J.jsx)(N.QP,{}):d?(0,J.jsxs)(C,{onSubmit:gn.handleSubmit,children:[(0,J.jsx)(N.Ph,{placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0440\u043e\u043b\u0438",caption:"\u0420\u043e\u043b\u0438",multi:!0,options:pn,loading:un,value:gn.values.roles,onChange:wn}),(0,J.jsxs)(F,{children:[(0,J.jsx)(N.zx,{text:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",fullWidth:!0,isLoading:K}),(0,J.jsx)(N.zx,{text:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c",variant:N.Wu.OUTLINE,fullWidth:!0,onClick:Nn})]})]}):(0,J.jsxs)(J.Fragment,{children:[(0,J.jsxs)(R,{children:[(0,J.jsx)(N.qE,{userId:null===l||void 0===l?void 0:l.id,firstName:null===l||void 0===l?void 0:l.firstName,lastName:null===l||void 0===l?void 0:l.lastName,src:null===l||void 0===l?void 0:l.avatar,size:N.DZ.EXTRA,figure:"square"}),(0,J.jsxs)(A,{children:[null===l||void 0===l?void 0:l.lastName," ",null===l||void 0===l?void 0:l.firstName]}),(0,J.jsx)(N.qb,{status:null===l||void 0===l?void 0:l.status})]}),(0,J.jsx)(N.bW,{text:"ID:",info:null===l||void 0===l?void 0:l.id}),(0,J.jsx)(N.bW,{text:"\u0420\u043e\u043b\u0438:",info:(0,J.jsx)(_,{children:null===l||void 0===l?void 0:l.roles.map((function(n){return(0,J.jsx)(N.uU,{role:n.value},n.id)}))})}),(0,J.jsx)(N.bW,{text:"\u041f\u043e\u0447\u0442\u0430:",info:(0,J.jsx)(E,{children:null===l||void 0===l?void 0:l.email})}),(0,J.jsx)(N.bW,{text:"\u0421\u043e\u0437\u0434\u0430\u043d:",info:(0,V.h)(null===l||void 0===l?void 0:l.createdAt)}),(0,J.jsx)(N.bW,{text:"\u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d:",info:(0,V.h)(null===l||void 0===l?void 0:l.updatedAt)}),l.banReason&&(0,J.jsx)(N.bW,{text:"\u041f\u0440\u0438\u0447\u0438\u043d\u0430 \u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u043a\u0438:",info:(0,J.jsx)(S,{children:l.banReason.text})}),l.banReason&&(0,J.jsx)(N.bW,{text:"\u041a\u0442\u043e \u0437\u0430\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043b:",info:(0,J.jsxs)(J.Fragment,{children:[(0,J.jsx)(N.qE,{firstName:l.banReason.user.firstName,lastName:l.banReason.user.lastName,src:l.banReason.user.avatar}),l.banReason.user.lastName," ",l.banReason.user.firstName," (",l.banReason.user.email,")"]})}),(0,J.jsxs)(F,{children:[hn(M.G.ADMIN,(0,J.jsx)(N.zx,{text:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0440\u043e\u043b\u0438",fullWidth:!0,onClick:kn})),(0,J.jsx)(N.zx,{fullWidth:!0,onClick:ln.open,variant:mn?N.Wu.DANGER:N.Wu.FILLED,text:mn?"\u0417\u0430\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u0442\u044c":"\u0420\u0430\u0437\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u0442\u044c"})]})]})}),[d,mn,l,K,gn,un,pn,f]);return(0,J.jsxs)(N.Bm,{titleText:(0,J.jsxs)(P,{children:[(0,J.jsx)(W,{children:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"}),(0,J.jsx)(N.zx,{text:"\u041d\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435",onClick:on.open})]}),onClose:e,closeOnDocumentClick:!1,children:[(0,J.jsx)(k,{children:yn}),ln.isOpen&&(0,J.jsx)(O.V,{type:mn?O.w.WARNING:O.w.ANSWER,closeHandler:ln.close,onConfirm:jn,actions:{cancel:{text:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c",onClick:ln.close},submit:{isLoading:f,text:mn?"\u0417\u0430\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u0442\u044c":"\u0420\u0430\u0437\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u0442\u044c"}},children:(0,J.jsxs)(D,{children:[(0,J.jsxs)(I,{children:["\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 ",mn?"\u0437\u0430\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u0442\u044c":"\u0440\u0430\u0437\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u0442\u044c"," \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f ",null===l||void 0===l?void 0:l.lastName," ",null===l||void 0===l?void 0:l.firstName," (",null===l||void 0===l?void 0:l.email,")?"]}),mn&&(0,J.jsx)(N.II,{value:$,onChange:function(n){return nn(n.target.value)},placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0440\u0438\u0447\u0438\u043d\u0443"})]})}),on.isOpen&&(0,J.jsx)(O.V,{type:O.w.INFO,closeHandler:on.close,onConfirm:function(){s({userId:t,text:rn})},title:"\u041d\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435",actions:{cancel:{text:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c",onClick:on.close},submit:{isLoading:f,text:"\u041d\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435"}},children:(0,J.jsx)(y,{placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435",value:rn,onChange:function(n){return an(n.target.value)}})})]})}},5204:function(n,e,i){i.d(e,{E:function(){return r}});var t=i(3494),r=function(){var n=(0,t.aC)().user;return{execIf:function(e,i){return null!==n&&void 0!==n&&n.roles.map((function(n){return n.value})).includes(e)?i:null}}}}}]);
//# sourceMappingURL=375.d3db7f6a.chunk.js.map
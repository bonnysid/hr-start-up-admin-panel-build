"use strict";(self.webpackChunkhr_start_up_admin_panel=self.webpackChunkhr_start_up_admin_panel||[]).push([[439],{2375:function(e,n,t){t.d(n,{K:function(){return K}});var r,a,i,s,l,o,u,c,d,f,x,p,h,v=t(4165),m=t(5861),g=t(9439),Z=t(2791),j=t(168),b=t(6444),w=t(2450),C=t(5033),N=b.ZP.div(r||(r=(0,j.Z)(["\n  display: flex;\n  flex-direction: column;\n  grid-row-gap: 18px;\n  width: 100%;\n  min-height: 100%;\n  height: fit-content;\n"]))),k=(0,b.ZP)(C.gx)(a||(a=(0,j.Z)(["\n  width: 100%;\n  text-align: left;\n"]))),y=b.ZP.form(i||(i=(0,j.Z)(["\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  height: 100%;\n  grid-row-gap: 24px;\n"]))),I=b.ZP.div(s||(s=(0,j.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n  text-align: left;\n"]))),P=b.ZP.div(l||(l=(0,j.Z)(["\n  text-align: center;\n"]))),E=b.ZP.div(o||(o=(0,j.Z)(["\n  display: flex;\n  align-items: center;\n  gap: 10px;\n  justify-content: space-between;\n  width: 100%;\n"]))),S=b.ZP.div(u||(u=(0,j.Z)(["\n  font-weight: 600;\n  font-size: 18px;\n  line-height: 24px;\n  letter-spacing: -0.014em;\n"]))),_=b.ZP.div(c||(c=(0,j.Z)(["\n  display: flex;\n  width: 100%;\n  flex-direction: column;\n  align-items: center;\n  grid-gap: 10px;\n"]))),R=b.ZP.div(d||(d=(0,j.Z)(["\n  display: flex;\n  align-items: center;\n  gap: 10px;\n"]))),W=b.ZP.div(f||(f=(0,j.Z)(["\n  display: flex;\n  color: ",";\n    padding: 5px;\n    border-radius: 5px;\n    background-color: ",";\n"])),w.D.gray90,w.D.lightGray10),D=b.ZP.div(x||(x=(0,j.Z)(["\n  font-size: 24px;\n"]))),A=b.ZP.div(p||(p=(0,j.Z)(["\n  margin-top: auto;\n  display: flex;\n  align-items: center;\n  grid-column-gap: 24px;\n"]))),B=b.ZP.div(h||(h=(0,j.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n  border-radius: 6px;\n  padding: 6px;\n  color: ",";\n  background-color: ",";\n"])),w.D.red90,w.D.red30),U=t(7518),T=t(4469),L=t(5457),O=t(5591),V=t(9514),F=t(595),q=t(5705),z=t(7834),G=t(5204),H=t(5639),M=t(7512),J=t(184),K=function(e){var n=e.onClose,t=e.refetch,r=e.userId,a=(0,Z.useState)(),i=(0,g.Z)(a,2),s=i[0],l=i[1],o=(0,M._)().createDialog,u=(0,Z.useState)(!1),c=(0,g.Z)(u,2),d=c[0],f=c[1],x=(0,Z.useState)(!1),p=(0,g.Z)(x,2),h=p[0],j=p[1],b=(0,Z.useState)(!1),w=(0,g.Z)(b,2),K=w[0],Q=w[1],X=(0,Z.useState)(""),Y=(0,g.Z)(X,2),$=Y[0],ee=Y[1],ne=(0,Z.useState)(""),te=(0,g.Z)(ne,2),re=te[0],ae=te[1],ie=(0,T.te)(),se=(0,T.te)(),le=(0,Z.useState)(!0),oe=(0,g.Z)(le,2),ue=oe[0],ce=oe[1],de=(0,Z.useState)([]),fe=(0,g.Z)(de,2),xe=fe[0],pe=fe[1],he=(0,G.E)().execIf,ve=(0,q.TA)({initialValues:{roles:(null===s||void 0===s?void 0:s.roles.map((function(e){return{value:e.id,label:e.value}})))||[]},onSubmit:function(){var e=(0,m.Z)((0,v.Z)().mark((function e(n,a){var i;return(0,v.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=a.resetForm,e.prev=1,Q(!0),e.next=5,O._.changeRoles({roles:n.roles.map((function(e){return e.value})),userId:r});case 5:null===t||void 0===t||t(),f(!1),i(),(0,V.x9)("\u0420\u043e\u043b\u0438 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u044b"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),(0,V._N)(e.t0);case 14:return e.prev=14,Q(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})));return function(n,t){return e.apply(this,arguments)}}()}),me=(null===s||void 0===s?void 0:s.status)===U.J.ACTIVE,ge=function(){var e=(0,m.Z)((0,v.Z)().mark((function e(){var n,t;return(0,v.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,j(!0),e.next=4,O._.fetchUser(r);case 4:return t=e.sent,e.next=7,ve.setFieldValue("roles",null===(n=t.data)||void 0===n?void 0:n.roles.map((function(e){return{value:e.id,label:e.value}})));case 7:l(t.data),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),(0,V._N)(e.t0);case 13:return e.prev=13,j(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[0,10,13,16]])})));return function(){return e.apply(this,arguments)}}(),Ze=function(){var e=(0,m.Z)((0,v.Z)().mark((function e(){var a,i;return(0,v.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,j(!0),!me){e.next=9;break}return e.next=5,O._.banUser({id:r,text:$});case 5:a=e.sent,(0,V.x9)(a.data.message),e.next=13;break;case 9:return e.next=11,O._.unbanUser(r);case 11:i=e.sent,(0,V.x9)(i.data.message);case 13:null===t||void 0===t||t(),ie.close(),n(),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0),(0,V._N)(e.t0);case 21:return e.prev=21,j(!1),e.finish(21);case 24:case"end":return e.stop()}}),e,null,[[0,18,21,24]])})));return function(){return e.apply(this,arguments)}}(),je=function(){var e=(0,m.Z)((0,v.Z)().mark((function e(){var n;return(0,v.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,ce(!0),e.next=4,z.m.fetchRoles();case 4:n=e.sent,pe(n.data.map((function(e){return{value:e.id,label:e.value}}))),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),(0,V.Hn)(e.t0,ve);case 11:return e.prev=11,ce(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})));return function(){return e.apply(this,arguments)}}(),be=function(e){ve.setFieldValue("roles",e)};(0,Z.useEffect)((function(){je(),ge()}),[]);var we=function(){f(!1),ve.resetForm()},Ce=function(){f(!0),ve.setFieldValue("roles",null===s||void 0===s?void 0:s.roles.map((function(e){return{value:e.id,label:e.value}})))},Ne=(0,Z.useMemo)((function(){return h||!s?(0,J.jsx)(C.QP,{}):d?(0,J.jsxs)(y,{onSubmit:ve.handleSubmit,children:[(0,J.jsx)(C.Ph,{placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0440\u043e\u043b\u0438",caption:"\u0420\u043e\u043b\u0438",multi:!0,options:xe,loading:ue,value:ve.values.roles,onChange:be}),(0,J.jsxs)(A,{children:[(0,J.jsx)(C.zx,{text:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",fullWidth:!0,isLoading:K}),(0,J.jsx)(C.zx,{text:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c",variant:C.Wu.OUTLINE,fullWidth:!0,onClick:we})]})]}):(0,J.jsxs)(J.Fragment,{children:[(0,J.jsxs)(_,{children:[(0,J.jsx)(C.qE,{userId:null===s||void 0===s?void 0:s.id,firstName:null===s||void 0===s?void 0:s.firstName,lastName:null===s||void 0===s?void 0:s.lastName,src:null===s||void 0===s?void 0:s.avatar,size:C.DZ.EXTRA,figure:"square"}),(0,J.jsxs)(D,{children:[null===s||void 0===s?void 0:s.lastName," ",null===s||void 0===s?void 0:s.firstName]}),(0,J.jsx)(C.qb,{status:null===s||void 0===s?void 0:s.status})]}),(0,J.jsx)(C.bW,{text:"ID:",info:null===s||void 0===s?void 0:s.id}),(0,J.jsx)(C.bW,{text:"\u0420\u043e\u043b\u0438:",info:(0,J.jsx)(R,{children:null===s||void 0===s?void 0:s.roles.map((function(e){return(0,J.jsx)(C.uU,{role:e.value},e.id)}))})}),(0,J.jsx)(C.bW,{text:"\u041f\u043e\u0447\u0442\u0430:",info:(0,J.jsx)(W,{children:null===s||void 0===s?void 0:s.email})}),(0,J.jsx)(C.bW,{text:"\u0421\u0442\u0430\u0442\u0443\u0441 \u043f\u043e\u0447\u0442\u044b:",info:(0,J.jsx)(C.qb,{status:null!==s&&void 0!==s&&s.isConfirmedEmail?U.J.ACTIVE:U.J.BANNED,children:null!==s&&void 0!==s&&s.isConfirmedEmail?"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0430":"\u041d\u0435 \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0430"})}),(0,J.jsx)(C.bW,{text:"\u0421\u043e\u0437\u0434\u0430\u043d:",info:(0,F.h)(null===s||void 0===s?void 0:s.createdAt)}),(0,J.jsx)(C.bW,{text:"\u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d:",info:(0,F.h)(null===s||void 0===s?void 0:s.updatedAt)}),s.banReason&&(0,J.jsx)(C.bW,{text:"\u041f\u0440\u0438\u0447\u0438\u043d\u0430 \u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u043a\u0438:",info:(0,J.jsx)(B,{children:s.banReason.text})}),s.banReason&&(0,J.jsx)(C.bW,{text:"\u041a\u0442\u043e \u0437\u0430\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043b:",info:(0,J.jsxs)(J.Fragment,{children:[(0,J.jsx)(C.qE,{firstName:s.banReason.user.firstName,lastName:s.banReason.user.lastName,src:s.banReason.user.avatar}),s.banReason.user.lastName," ",s.banReason.user.firstName," (",s.banReason.user.email,")"]})}),(0,J.jsxs)(A,{children:[he(H.G.ADMIN,(0,J.jsx)(C.zx,{text:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0440\u043e\u043b\u0438",fullWidth:!0,onClick:Ce})),(0,J.jsx)(C.zx,{fullWidth:!0,onClick:ie.open,variant:me?C.Wu.DANGER:C.Wu.FILLED,text:me?"\u0417\u0430\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u0442\u044c":"\u0420\u0430\u0437\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u0442\u044c"})]})]})}),[d,me,s,K,ve,ue,xe,h]);return(0,J.jsxs)(C.Bm,{titleText:(0,J.jsxs)(E,{children:[(0,J.jsx)(S,{children:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"}),(0,J.jsx)(C.zx,{text:"\u041d\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435",onClick:se.open})]}),onClose:n,closeOnDocumentClick:!1,children:[(0,J.jsx)(N,{children:Ne}),ie.isOpen&&(0,J.jsx)(L.V,{type:me?L.w.WARNING:L.w.ANSWER,closeHandler:ie.close,onConfirm:Ze,actions:{cancel:{text:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c",onClick:ie.close},submit:{isLoading:h,text:me?"\u0417\u0430\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u0442\u044c":"\u0420\u0430\u0437\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u0442\u044c"}},children:(0,J.jsxs)(I,{children:[(0,J.jsxs)(P,{children:["\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 ",me?"\u0437\u0430\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u0442\u044c":"\u0440\u0430\u0437\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u0442\u044c"," \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f ",null===s||void 0===s?void 0:s.lastName," ",null===s||void 0===s?void 0:s.firstName," (",null===s||void 0===s?void 0:s.email,")?"]}),me&&(0,J.jsx)(C.II,{value:$,onChange:function(e){return ee(e.target.value)},placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0440\u0438\u0447\u0438\u043d\u0443"})]})}),se.isOpen&&(0,J.jsx)(L.V,{type:L.w.INFO,closeHandler:se.close,onConfirm:function(){o({userId:r,text:re})},title:"\u041d\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435",actions:{cancel:{text:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c",onClick:se.close},submit:{isLoading:h,text:"\u041d\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435"}},children:(0,J.jsx)(k,{placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435",value:re,onChange:function(e){return ae(e.target.value)}})})]})}},5439:function(e,n,t){t.r(n),t.d(n,{default:function(){return M}});var r,a,i,s,l,o,u,c,d,f,x=t(2791),p=t(168),h=t(6444),v=t(2450),m=h.ZP.div(r||(r=(0,p.Z)(["\n  display: flex;\n  flex-direction: column;\n  grid-row-gap: 24px;\n  width: 100%;\n  height: 100%;\n  padding: 24px;\n"]))),g=h.ZP.div(a||(a=(0,p.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  height: 100%;\n"]))),Z=h.ZP.div(i||(i=(0,p.Z)(["\n  display: flex;\n  flex-direction: column;\n  grid-auto-rows: max-content;\n  grid-gap: 14px;\n  width: 100%;\n  height: fit-content;\n  overflow-x: auto;\n"]))),j=h.ZP.div(s||(s=(0,p.Z)(["\n  --min-width: 231px;\n  grid-gap: 16px;\n  display: grid;\n  grid-template-columns: repeat(auto-fill,minmax(var(--min-width),1fr));\n  width: 100%;\n  padding: 16px;\n  background: ",";\n  box-shadow: 0 7px 15px rgba(0,0,0,.05);\n  border-radius: 10px;\n"])),v.D.white),b=t(5033),w=t(4469),C=h.ZP.div(l||(l=(0,p.Z)(["\n  display: flex;\n  align-items: center;\n  grid-column-gap: 10px;\n  width: 100%;\n  background-color: ",";\n  padding: 10px;\n  border-radius: 5px;\n  cursor: pointer;\n  transition: background-color .3s;\n  border: 1px solid ",";\n\n  &:hover {\n    background: ",";\n  }\n"])),v.D.white,v.D.lightGray40,v.D.lightGray20),N=h.ZP.div(o||(o=(0,p.Z)(["\n  display: flex;\n  align-items: center;\n"]))),k=h.ZP.div(u||(u=(0,p.Z)(["\n  display: flex;\n  align-items: center;\n  grid-column-gap: 10px;\n"]))),y=(0,h.ZP)(b.qb)(c||(c=(0,p.Z)(["\n  margin-left: auto;\n"]))),I=t(184),P=function(e){var n=e.user,t=e.onClick;return(0,I.jsxs)(C,{onClick:t,children:[(0,I.jsx)(b.qE,{userId:n.id,src:n.avatar,firstName:n.firstName,lastName:n.lastName}),(0,I.jsxs)(N,{children:[n.lastName," ",n.firstName," (",n.email,")"]}),(0,I.jsx)(k,{children:n.roles.map((function(e){return(0,I.jsx)(b.uU,{role:e.value},e.id)}))}),(0,I.jsx)(y,{status:n.status})]})},E=t(5204),S=t(5639),_=t(4165),R=t(1413),W=t(5861),D=t(9439),A=h.ZP.form(d||(d=(0,p.Z)(["\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  min-height: 100%;\n  height: fit-content;\n  grid-row-gap: 24px;\n"]))),B=h.ZP.div(f||(f=(0,p.Z)(["\n  margin-top: auto;\n  display: flex;\n  align-items: center;\n  grid-column-gap: 24px;\n"]))),U=t(5705),T=t(9514),L=t(5591),O=t(1049),V=t(7834),F=t(6727),q=F.Ry().shape({email:F.Z_().required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435").email("\u041d\u0435 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u0435\u0442 \u0444\u043e\u0440\u043c\u0430\u0442\u0443 email"),firstName:F.Z_().required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"),lastName:F.Z_().required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"),password:F.Z_().required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435")}),z=function(e){var n=e.refetch,t=e.onClose,r=(0,x.useState)(!1),a=(0,D.Z)(r,2),i=a[0],s=a[1],l=(0,x.useState)(!0),o=(0,D.Z)(l,2),u=o[0],c=o[1],d=(0,x.useState)([]),f=(0,D.Z)(d,2),p=f[0],h=f[1],v=(0,U.TA)({initialValues:{password:"",email:"",lastName:"",roles:[],firstName:""},validationSchema:q,onSubmit:function(){var e=(0,W.Z)((0,_.Z)().mark((function e(r){return(0,_.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s(!0),e.next=4,L._.fetchCreateUser((0,R.Z)((0,R.Z)({},r),{},{roles:r.roles.map((function(e){return e.value}))}));case 4:n(),t(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),(0,T.Hn)(e.t0,v);case 11:return e.prev=11,s(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})));return function(n){return e.apply(this,arguments)}}()}),m=function(){var e=(0,W.Z)((0,_.Z)().mark((function e(){var n;return(0,_.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c(!0),e.next=4,V.m.fetchRoles();case 4:n=e.sent,h(n.data.map((function(e){return{value:e.id,label:e.value}}))),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),(0,T.Hn)(e.t0,v);case 11:return e.prev=11,c(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})));return function(){return e.apply(this,arguments)}}();return(0,x.useEffect)((function(){m()}),[]),(0,I.jsx)(b.Bm,{titleText:"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",onClose:t,closeOnDocumentClick:!1,children:(0,I.jsxs)(A,{onSubmit:v.handleSubmit,children:[(0,I.jsx)(b.II,{autoComplete:"email",name:"email",onChange:v.handleChange,value:v.values.email,caption:"Email",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 email",isError:Boolean(v.errors.email),errorText:v.errors.email,onBlur:v.handleBlur}),(0,I.jsx)(b.II,{name:"lastName",onChange:v.handleChange,value:v.values.lastName,caption:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0444\u0430\u043c\u0438\u043b\u0438\u044e",isError:Boolean(v.errors.lastName),errorText:v.errors.lastName,onBlur:v.handleBlur}),(0,I.jsx)(b.II,{name:"firstName",onChange:v.handleChange,value:v.values.firstName,caption:"\u0418\u043c\u044f",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f",isError:Boolean(v.errors.firstName),errorText:v.errors.firstName,onBlur:v.handleBlur}),(0,I.jsx)(b.II,{autoComplete:"new-password",type:"password",name:"password",onChange:v.handleChange,value:v.values.password,caption:"\u041f\u0430\u0440\u043e\u043b\u044c",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",isError:Boolean(v.errors.password),errorText:v.errors.password,onBlur:v.handleBlur}),(0,I.jsx)(O.P,{placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0440\u043e\u043b\u0438",caption:"\u0420\u043e\u043b\u0438",multi:!0,options:p,loading:u,value:v.values.roles,onChange:function(e){v.setFieldValue("roles",e)}}),(0,I.jsxs)(B,{children:[(0,I.jsx)(b.zx,{text:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c",fullWidth:!0,isLoading:i}),(0,I.jsx)(b.zx,{variant:b.Wu.OUTLINE,text:"\u041e\u0442\u043c\u0435\u043d\u0430",fullWidth:!0,onClick:t})]})]})})},G=t(2375),H=t(7518),M=function(){var e=function(){var e=(0,x.useState)(),n=(0,D.Z)(e,2),t=n[0],r=n[1],a=(0,x.useState)(""),i=(0,D.Z)(a,2),s=i[0],l=i[1],o=(0,w.Nr)(s,400),u=(0,w.dc)(),c=u.roles,d=u.getRoles,f=u.isLoading,p=(0,w.UV)(),h=p.getUsers,v=p.users,m=p.isLoading,g=(0,U.TA)({initialValues:{roles:[],status:[]},onSubmit:function(){}});(0,x.useEffect)((function(){d()}),[]),(0,x.useEffect)((function(){Z()}),[g.values.roles,o,g.values.status]),(0,x.useEffect)((function(){t&&r(v.find((function(e){return e.id===t.id})))}),[v]);var Z=function(){var e=(0,W.Z)((0,_.Z)().mark((function e(){var n,t,r;return(0,_.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=g.values,t=n.roles,r=n.status,e.next=3,h({search:o,roles:t.map((function(e){return e.value})),status:r.map((function(e){return e.value}))});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),j=(0,x.useMemo)((function(){return c.map((function(e){return{value:e.id,label:e.value}}))}),[c]),b=(0,x.useMemo)((function(){return Object.values(H.J).map((function(e){return{value:e,label:e}}))}),[]);return{activeUser:t,setActiveUser:r,form:g,users:v,statusOptions:b,rolesOptions:j,createSelectChangeHandler:function(e){return function(n){g.setFieldValue(e,n)}},handleChangeSearch:function(e){l(e.target.value)},search:s,isRolesLoading:f,isLoading:m,fetchUsers:Z,reset:function(){g.resetForm(),l("")}}}(),n=e.fetchUsers,t=e.users,r=e.isLoading,a=e.search,i=e.handleChangeSearch,s=e.form,l=e.createSelectChangeHandler,o=e.statusOptions,u=e.rolesOptions,c=e.isRolesLoading,d=e.activeUser,f=e.setActiveUser,p=e.reset,h=(0,w.te)(),v=h.isOpen,C=h.open,N=h.close,k=(0,E.E)().execIf,y=(0,x.useMemo)((function(){return r?(0,I.jsx)(b.QP,{}):t.length?(0,I.jsx)(Z,{children:t.map((function(e){return(0,I.jsx)(P,{user:e,refetch:n,onClick:function(){f(e)}},e.id)}))}):(0,I.jsx)(g,{children:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439 \u043d\u0435\u0442"})}),[t,r]);return(0,I.jsxs)(m,{children:[(0,I.jsx)(b.mr,{title:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438",search:a,count:"".concat(t.length," \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439"),onChangeSearch:i,buttonText:k(S.G.ADMIN,"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"),onButtonClick:k(S.G.ADMIN,C)}),(0,I.jsxs)(j,{children:[(0,I.jsx)(b.Ph,{value:s.values.roles,options:u,loading:c,onChange:l("roles"),placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0440\u043e\u043b\u0438",multi:!0,searchable:!0}),(0,I.jsx)(b.Ph,{value:s.values.status,options:o,onChange:l("status"),placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u0442\u0430\u0442\u0443\u0441\u044b",multi:!0}),(0,I.jsx)(b.zx,{text:"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c",onClick:p})]}),y,v&&(0,I.jsx)(z,{onClose:N,refetch:n}),d&&(0,I.jsx)(G.K,{userId:d.id,onClose:function(){f(void 0)},refetch:n})]})}},5204:function(e,n,t){t.d(n,{E:function(){return a}});var r=t(3494),a=function(){var e=(0,r.aC)().user;return{execIf:function(n,t){return null!==e&&void 0!==e&&e.roles.map((function(e){return e.value})).includes(n)?t:null}}}}}]);
//# sourceMappingURL=439.6bae683b.chunk.js.map
"use strict";(self.webpackChunkhr_start_up_admin_panel=self.webpackChunkhr_start_up_admin_panel||[]).push([[150],{5457:function(n,e,t){t.d(e,{V:function(){return P},w:function(){return y}});var r,i,a,s,o,l,u,c,d=t(1413),x=(t(2791),t(3131)),p=t(6031),f=t(168),h=t(6444),v=t(2450),m=h.ZP.div(r||(r=(0,f.Z)(["\n  display: flex;\n  justify-content: space-evenly;\n  gap: 16px;\n"]))),g=(0,h.ZP)(p.zx)(i||(i=(0,f.Z)(["\n  width: 50%;\n"]))),Z=h.ZP.div(a||(a=(0,f.Z)(["\n  padding: 56px 0;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 16px;\n"]))),j=h.ZP.div(s||(s=(0,f.Z)(["\n  width: 56px;\n  height: 56px;\n  padding: 16px;\n  border-radius: 50%;\n  &.answer {\n    color: ",";\n    background-color: ",";\n  }\n  &.notification {\n    color: ",";\n    background-color: ",";\n  }\n  &.warning {\n    color: ",";\n    background-color: ",";\n  }\n  &.info {\n    color: ",";\n    background-color: ",";\n  }\n"])),v.D.yellow70,v.D.yellow30,v.D.green70,v.D.green30,v.D.red70,v.D.red30,v.D.blue70,v.D.blue30),b=h.ZP.div(o||(o=(0,f.Z)(["\n  text-align: center;\n  width: 100%;\n"]))),w=h.ZP.div(l||(l=(0,f.Z)(["\n  width: 600px;\n  position: relative;\n"]))),C=h.ZP.div(u||(u=(0,f.Z)(["\n  position: absolute;\n  z-index: 1;\n  top: 0;\n  right: 0;\n  cursor: pointer;\n  color: ",";\n  transition: color 0.2s;\n\n  &:hover {\n    color: ",";\n  }\n"])),v.D.gray60,v.D.darkGray150),N=h.ZP.div(c||(c=(0,f.Z)(["\n  font-weight: 600;\n  font-size: 24px;\n  line-height: 32px;\n  letter-spacing: -0.019em;\n"]))),k=t(184),y=function(n){return n.ANSWER="answer",n.NOTIFICATION="notification",n.WARNING="warning",n.INFO="info",n}({}),I={answer:"circle-warning",notification:"circle-information",warning:"warning",info:"circle-information"},P=function(n){var e=n.loading,t=n.className,r=n.title,i=n.type,a=n.closeHandler,s=n.onConfirm,o=n.onOk,l=n.actions,u=n.children;return(0,k.jsx)(p.u_,{open:!0,closeOnDocumentClick:!1,onClose:a,children:(0,k.jsxs)(w,{className:t,children:[(0,k.jsx)(C,{onClick:a,children:(0,k.jsx)(x.I,{type:"close"})}),(0,k.jsxs)(Z,{children:[i&&(0,k.jsx)(j,{className:i,children:(0,k.jsx)(x.I,{type:I[i]})}),r&&(0,k.jsx)(N,{children:r}),(0,k.jsx)(b,{children:u})]}),(0,k.jsx)(m,{children:s?(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(g,(0,d.Z)((0,d.Z)({},null===l||void 0===l?void 0:l.submit),{},{variant:i===y.WARNING?p.Wu.DANGER:p.Wu.FILLED,onClick:s,isLoading:e,disabled:e})),(0,k.jsx)(g,(0,d.Z)((0,d.Z)({},null===l||void 0===l?void 0:l.cancel),{},{id:"ConfirmDialogCancel",variant:p.Wu.OUTLINE,onClick:a,disabled:e}))]}):(0,k.jsx)(g,(0,d.Z)({onClick:o,isLoading:e},null===l||void 0===l?void 0:l.ok))})]})})}},150:function(n,e,t){t.r(e),t.d(e,{default:function(){return Cn}});var r,i,a,s,o,l,u,c,d,x,p,f,h,v,m,g,Z,j,b,w,C,N,k,y=t(2791),I=t(168),P=t(6444),D=t(2450),E=P.ZP.div(r||(r=(0,I.Z)(["\n  display: flex;\n  flex-direction: column;\n  grid-row-gap: 24px;\n  width: 100%;\n  height: 100%;\n  padding: 24px;\n"]))),S=P.ZP.div(i||(i=(0,I.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  height: 100%;\n"]))),W=P.ZP.div(a||(a=(0,I.Z)(["\n  display: flex;\n  flex-direction: column;\n  grid-auto-rows: max-content;\n  grid-gap: 14px;\n  width: 100%;\n  height: fit-content;\n  overflow-x: auto;\n"]))),R=P.ZP.div(s||(s=(0,I.Z)(["\n  --min-width: 231px;\n  grid-gap: 16px;\n  display: grid;\n  grid-template-columns: repeat(auto-fill,minmax(var(--min-width),1fr));\n  width: 100%;\n  padding: 16px;\n  background: ",";\n  box-shadow: 0 7px 15px rgba(0,0,0,.05);\n  border-radius: 10px;\n"])),D.D.white),A=t(6031),_=t(4469),L=P.ZP.div(o||(o=(0,I.Z)(["\n  display: flex;\n  align-items: center;\n  grid-column-gap: 10px;\n  width: 100%;\n  background-color: ",";\n  padding: 10px;\n  border-radius: 5px;\n  cursor: pointer;\n  transition: background-color .3s;\n  border: 1px solid ",";\n\n  &:hover {\n    background: ",";\n  }\n"])),D.D.white,D.D.lightGray40,D.D.lightGray20),O=P.ZP.div(l||(l=(0,I.Z)(["\n  display: flex;\n  align-items: center;\n"]))),T=P.ZP.div(u||(u=(0,I.Z)(["\n  display: flex;\n  align-items: center;\n  grid-column-gap: 10px;\n"]))),U=(0,P.ZP)(A.qb)(c||(c=(0,I.Z)(["\n  margin-left: auto;\n"]))),B=t(184),F=function(n){var e=n.user,t=n.onClick;return(0,B.jsxs)(L,{onClick:t,children:[(0,B.jsx)(A.qE,{userId:e.id,src:e.avatar,firstName:e.firstName,lastName:e.lastName}),(0,B.jsxs)(O,{children:[e.lastName," ",e.firstName," (",e.email,")"]}),(0,B.jsx)(T,{children:e.roles.map((function(n){return(0,B.jsx)(A.uU,{role:n.value},n.id)}))}),(0,B.jsx)(U,{status:e.status})]})},z=t(5204),G=t(5639),V=t(4165),q=t(1413),H=t(5861),M=t(9439),J=P.ZP.form(d||(d=(0,I.Z)(["\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  height: 100%;\n  grid-row-gap: 24px;\n"]))),Q=P.ZP.div(x||(x=(0,I.Z)(["\n  margin-top: auto;\n  display: flex;\n  align-items: center;\n  grid-column-gap: 24px;\n"]))),X=t(5705),K=t(9514),Y=t(5591),$=t(1049),nn=t(7834),en=t(6727),tn=en.Ry().shape({email:en.Z_().required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435").email("\u041d\u0435 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u0435\u0442 \u0444\u043e\u0440\u043c\u0430\u0442\u0443 email"),firstName:en.Z_().required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"),lastName:en.Z_().required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"),password:en.Z_().required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435")}),rn=function(n){var e=n.refetch,t=n.onClose,r=(0,y.useState)(!1),i=(0,M.Z)(r,2),a=i[0],s=i[1],o=(0,y.useState)(!0),l=(0,M.Z)(o,2),u=l[0],c=l[1],d=(0,y.useState)([]),x=(0,M.Z)(d,2),p=x[0],f=x[1],h=(0,X.TA)({initialValues:{password:"",email:"",lastName:"",roles:[],firstName:""},validationSchema:tn,onSubmit:function(){var n=(0,H.Z)((0,V.Z)().mark((function n(r){return(0,V.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,s(!0),n.next=4,Y._.fetchCreateUser((0,q.Z)((0,q.Z)({},r),{},{roles:r.roles.map((function(n){return n.value}))}));case 4:e(),t(),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),(0,K.Hn)(n.t0,h);case 11:return n.prev=11,s(!1),n.finish(11);case 14:case"end":return n.stop()}}),n,null,[[0,8,11,14]])})));return function(e){return n.apply(this,arguments)}}()}),v=function(){var n=(0,H.Z)((0,V.Z)().mark((function n(){var e;return(0,V.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,c(!0),n.next=4,nn.m.fetchRoles();case 4:e=n.sent,f(e.data.map((function(n){return{value:n.id,label:n.value}}))),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),(0,K.Hn)(n.t0,h);case 11:return n.prev=11,c(!1),n.finish(11);case 14:case"end":return n.stop()}}),n,null,[[0,8,11,14]])})));return function(){return n.apply(this,arguments)}}();return(0,y.useEffect)((function(){v()}),[]),(0,B.jsx)(A.Bm,{titleText:"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",onClose:t,closeOnDocumentClick:!1,children:(0,B.jsxs)(J,{onSubmit:h.handleSubmit,children:[(0,B.jsx)(A.II,{autoComplete:"email",name:"email",onChange:h.handleChange,value:h.values.email,caption:"Email",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 email",isError:Boolean(h.errors.email),errorText:h.errors.email,onBlur:h.handleBlur}),(0,B.jsx)(A.II,{name:"lastName",onChange:h.handleChange,value:h.values.lastName,caption:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0444\u0430\u043c\u0438\u043b\u0438\u044e",isError:Boolean(h.errors.lastName),errorText:h.errors.lastName,onBlur:h.handleBlur}),(0,B.jsx)(A.II,{name:"firstName",onChange:h.handleChange,value:h.values.firstName,caption:"\u0418\u043c\u044f",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f",isError:Boolean(h.errors.firstName),errorText:h.errors.firstName,onBlur:h.handleBlur}),(0,B.jsx)(A.II,{autoComplete:"new-password",type:"password",name:"password",onChange:h.handleChange,value:h.values.password,caption:"\u041f\u0430\u0440\u043e\u043b\u044c",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",isError:Boolean(h.errors.password),errorText:h.errors.password,onBlur:h.handleBlur}),(0,B.jsx)($.P,{placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0440\u043e\u043b\u0438",caption:"\u0420\u043e\u043b\u0438",multi:!0,options:p,loading:u,value:h.values.roles,onChange:function(n){h.setFieldValue("roles",n)}}),(0,B.jsxs)(Q,{children:[(0,B.jsx)(A.zx,{text:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c",fullWidth:!0,isLoading:a}),(0,B.jsx)(A.zx,{variant:A.Wu.OUTLINE,text:"\u041e\u0442\u043c\u0435\u043d\u0430",fullWidth:!0,onClick:t})]})]})})},an=P.ZP.div(p||(p=(0,I.Z)(["\n  display: flex;\n  flex-direction: column;\n  grid-row-gap: 18px;\n  width: 100%;\n  height: 100%;\n"]))),sn=(0,P.ZP)(A.gx)(f||(f=(0,I.Z)(["\n  width: 100%;\n  text-align: left;\n"]))),on=P.ZP.form(h||(h=(0,I.Z)(["\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  height: 100%;\n  grid-row-gap: 24px;\n"]))),ln=P.ZP.div(v||(v=(0,I.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n  text-align: left;\n"]))),un=P.ZP.div(m||(m=(0,I.Z)(["\n  text-align: center;\n"]))),cn=P.ZP.div(g||(g=(0,I.Z)(["\n  display: flex;\n  align-items: center;\n  gap: 10px;\n  justify-content: space-between;\n  width: 100%;\n"]))),dn=P.ZP.div(Z||(Z=(0,I.Z)(["\n  font-weight: 600;\n  font-size: 18px;\n  line-height: 24px;\n  letter-spacing: -0.014em;\n"]))),xn=P.ZP.div(j||(j=(0,I.Z)(["\n  display: flex;\n  width: 100%;\n  flex-direction: column;\n  align-items: center;\n  grid-gap: 10px;\n"]))),pn=P.ZP.div(b||(b=(0,I.Z)(["\n  display: flex;\n  align-items: center;\n  gap: 10px;\n"]))),fn=P.ZP.div(w||(w=(0,I.Z)(["\n  display: flex;\n  color: ",";\n    padding: 5px;\n    border-radius: 5px;\n    background-color: ",";\n"])),D.D.gray90,D.D.lightGray10),hn=P.ZP.div(C||(C=(0,I.Z)(["\n  font-size: 24px;\n"]))),vn=P.ZP.div(N||(N=(0,I.Z)(["\n  margin-top: auto;\n  display: flex;\n  align-items: center;\n  grid-column-gap: 24px;\n"]))),mn=P.ZP.div(k||(k=(0,I.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n  border-radius: 6px;\n  padding: 6px;\n  color: ",";\n  background-color: ",";\n"])),D.D.red90,D.D.red30),gn=t(7518),Zn=t(5457),jn=t(595),bn=t(7512),wn=function(n){var e=n.onClose,t=n.user,r=n.refetch,i=(0,bn._)().createDialog,a=(0,y.useState)(!1),s=(0,M.Z)(a,2),o=s[0],l=s[1],u=(0,y.useState)(!1),c=(0,M.Z)(u,2),d=c[0],x=c[1],p=(0,y.useState)(!1),f=(0,M.Z)(p,2),h=f[0],v=f[1],m=(0,y.useState)(""),g=(0,M.Z)(m,2),Z=g[0],j=g[1],b=(0,y.useState)(""),w=(0,M.Z)(b,2),C=w[0],N=w[1],k=(0,_.te)(),I=(0,_.te)(),P=(0,y.useState)(!0),D=(0,M.Z)(P,2),E=D[0],S=D[1],W=(0,y.useState)([]),R=(0,M.Z)(W,2),L=R[0],O=R[1],T=(0,z.E)().execIf,U=(0,X.TA)({initialValues:{roles:t.roles.map((function(n){return{value:n.id,label:n.value}}))},onSubmit:function(){var n=(0,H.Z)((0,V.Z)().mark((function n(e,i){var a;return(0,V.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=i.resetForm,n.prev=1,v(!0),n.next=5,Y._.changeRoles({roles:e.roles.map((function(n){return n.value})),userId:t.id});case 5:r(),l(!1),a(),(0,K.x9)("\u0420\u043e\u043b\u0438 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u044b"),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(1),(0,K._N)(n.t0);case 14:return n.prev=14,v(!1),n.finish(14);case 17:case"end":return n.stop()}}),n,null,[[1,11,14,17]])})));return function(e,t){return n.apply(this,arguments)}}()}),F=t.status===gn.J.ACTIVE,q=function(){var n=(0,H.Z)((0,V.Z)().mark((function n(){var i,a;return(0,V.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,x(!0),!F){n.next=9;break}return n.next=5,Y._.banUser({id:t.id,text:Z});case 5:i=n.sent,(0,K.x9)(i.data.message),n.next=13;break;case 9:return n.next=11,Y._.unbanUser(t.id);case 11:a=n.sent,(0,K.x9)(a.data.message);case 13:r(),k.close(),e(),n.next=21;break;case 18:n.prev=18,n.t0=n.catch(0),(0,K._N)(n.t0);case 21:return n.prev=21,x(!1),n.finish(21);case 24:case"end":return n.stop()}}),n,null,[[0,18,21,24]])})));return function(){return n.apply(this,arguments)}}(),J=function(){var n=(0,H.Z)((0,V.Z)().mark((function n(){var e;return(0,V.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,S(!0),n.next=4,nn.m.fetchRoles();case 4:e=n.sent,O(e.data.map((function(n){return{value:n.id,label:n.value}}))),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),(0,K.Hn)(n.t0,U);case 11:return n.prev=11,S(!1),n.finish(11);case 14:case"end":return n.stop()}}),n,null,[[0,8,11,14]])})));return function(){return n.apply(this,arguments)}}(),Q=function(n){U.setFieldValue("roles",n)};(0,y.useEffect)((function(){J()}),[]);var $=function(){l(!1),U.resetForm()},en=function(){l(!0),U.setFieldValue("roles",t.roles.map((function(n){return{value:n.id,label:n.value}})))},tn=(0,y.useMemo)((function(){return o?(0,B.jsxs)(on,{onSubmit:U.handleSubmit,children:[(0,B.jsx)(A.Ph,{placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0440\u043e\u043b\u0438",caption:"\u0420\u043e\u043b\u0438",multi:!0,options:L,loading:E,value:U.values.roles,onChange:Q}),(0,B.jsxs)(vn,{children:[(0,B.jsx)(A.zx,{text:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",fullWidth:!0,isLoading:h}),(0,B.jsx)(A.zx,{text:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c",variant:A.Wu.OUTLINE,fullWidth:!0,onClick:$})]})]}):(0,B.jsxs)(B.Fragment,{children:[(0,B.jsxs)(xn,{children:[(0,B.jsx)(A.qE,{userId:null===t||void 0===t?void 0:t.id,firstName:null===t||void 0===t?void 0:t.firstName,lastName:null===t||void 0===t?void 0:t.lastName,src:null===t||void 0===t?void 0:t.avatar,size:A.DZ.EXTRA,figure:"square"}),(0,B.jsxs)(hn,{children:[null===t||void 0===t?void 0:t.lastName," ",null===t||void 0===t?void 0:t.firstName]}),(0,B.jsx)(A.qb,{status:null===t||void 0===t?void 0:t.status})]}),(0,B.jsx)(A.bW,{text:"ID:",info:null===t||void 0===t?void 0:t.id}),(0,B.jsx)(A.bW,{text:"\u0420\u043e\u043b\u0438:",info:(0,B.jsx)(pn,{children:null===t||void 0===t?void 0:t.roles.map((function(n){return(0,B.jsx)(A.uU,{role:n.value},n.id)}))})}),(0,B.jsx)(A.bW,{text:"\u041f\u043e\u0447\u0442\u0430:",info:(0,B.jsx)(fn,{children:null===t||void 0===t?void 0:t.email})}),(0,B.jsx)(A.bW,{text:"\u0421\u043e\u0437\u0434\u0430\u043d:",info:(0,jn.h)(null===t||void 0===t?void 0:t.createdAt)}),(0,B.jsx)(A.bW,{text:"\u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d:",info:(0,jn.h)(null===t||void 0===t?void 0:t.updatedAt)}),t.banReason&&(0,B.jsx)(A.bW,{text:"\u041f\u0440\u0438\u0447\u0438\u043d\u0430 \u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u043a\u0438:",info:(0,B.jsx)(mn,{children:t.banReason.text})}),t.banReason&&(0,B.jsx)(A.bW,{text:"\u041a\u0442\u043e \u0437\u0430\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043b:",info:(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(A.qE,{firstName:t.banReason.user.firstName,lastName:t.banReason.user.lastName,src:t.banReason.user.avatar}),t.banReason.user.lastName," ",t.banReason.user.firstName," (",t.banReason.user.email,")"]})}),(0,B.jsxs)(vn,{children:[T(G.G.ADMIN,(0,B.jsx)(A.zx,{text:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0440\u043e\u043b\u0438",fullWidth:!0,onClick:en})),(0,B.jsx)(A.zx,{fullWidth:!0,onClick:k.open,variant:F?A.Wu.DANGER:A.Wu.FILLED,text:F?"\u0417\u0430\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u0442\u044c":"\u0420\u0430\u0437\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u0442\u044c"})]})]})}),[o,F,t,h,U,E,L]);return(0,B.jsxs)(A.Bm,{titleText:(0,B.jsxs)(cn,{children:[(0,B.jsx)(dn,{children:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"}),(0,B.jsx)(A.zx,{text:"\u041d\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435",onClick:I.open})]}),onClose:e,closeOnDocumentClick:!1,children:[(0,B.jsx)(an,{children:tn}),k.isOpen&&(0,B.jsx)(Zn.V,{type:F?Zn.w.WARNING:Zn.w.ANSWER,closeHandler:k.close,onConfirm:q,actions:{cancel:{text:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c",onClick:k.close},submit:{isLoading:d,text:F?"\u0417\u0430\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u0442\u044c":"\u0420\u0430\u0437\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u0442\u044c"}},children:(0,B.jsxs)(ln,{children:[(0,B.jsxs)(un,{children:["\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 ",F?"\u0437\u0430\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u0442\u044c":"\u0440\u0430\u0437\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u0442\u044c"," \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f ",t.lastName," ",t.firstName," (",t.email,")?"]}),F&&(0,B.jsx)(A.II,{value:Z,onChange:function(n){return j(n.target.value)},placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0440\u0438\u0447\u0438\u043d\u0443"})]})}),I.isOpen&&(0,B.jsx)(Zn.V,{type:Zn.w.INFO,closeHandler:I.close,onConfirm:function(){i({userId:t.id,text:C})},title:"\u041d\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435",actions:{cancel:{text:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c",onClick:I.close},submit:{isLoading:d,text:"\u041d\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435"}},children:(0,B.jsx)(sn,{placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435",value:C,onChange:function(n){return N(n.target.value)}})})]})},Cn=function(){var n=function(){var n=(0,y.useState)(),e=(0,M.Z)(n,2),t=e[0],r=e[1],i=(0,y.useState)(""),a=(0,M.Z)(i,2),s=a[0],o=a[1],l=(0,_.Nr)(s,400),u=(0,_.dc)(),c=u.roles,d=u.getRoles,x=u.isLoading,p=(0,_.UV)(),f=p.getUsers,h=p.users,v=p.isLoading,m=(0,X.TA)({initialValues:{roles:[],status:[]},onSubmit:function(){}});(0,y.useEffect)((function(){d()}),[]),(0,y.useEffect)((function(){g()}),[m.values.roles,l,m.values.status]),(0,y.useEffect)((function(){t&&r(h.find((function(n){return n.id===t.id})))}),[h]);var g=function(){var n=(0,H.Z)((0,V.Z)().mark((function n(){var e,t,r;return(0,V.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=m.values,t=e.roles,r=e.status,n.next=3,f({search:l,roles:t.map((function(n){return n.value})),status:r.map((function(n){return n.value}))});case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),Z=(0,y.useMemo)((function(){return c.map((function(n){return{value:n.id,label:n.value}}))}),[c]),j=(0,y.useMemo)((function(){return Object.values(gn.J).map((function(n){return{value:n,label:n}}))}),[]);return{activeUser:t,setActiveUser:r,form:m,users:h,statusOptions:j,rolesOptions:Z,createSelectChangeHandler:function(n){return function(e){m.setFieldValue(n,e)}},handleChangeSearch:function(n){o(n.target.value)},search:s,isRolesLoading:x,isLoading:v,fetchUsers:g,reset:function(){m.resetForm(),o("")}}}(),e=n.fetchUsers,t=n.users,r=n.isLoading,i=n.search,a=n.handleChangeSearch,s=n.form,o=n.createSelectChangeHandler,l=n.statusOptions,u=n.rolesOptions,c=n.isRolesLoading,d=n.activeUser,x=n.setActiveUser,p=n.reset,f=(0,_.te)(),h=f.isOpen,v=f.open,m=f.close,g=(0,z.E)().execIf,Z=(0,y.useMemo)((function(){return r?(0,B.jsx)(A.QP,{}):t.length?(0,B.jsx)(W,{children:t.map((function(n){return(0,B.jsx)(F,{user:n,refetch:e,onClick:function(){x(n)}},n.id)}))}):(0,B.jsx)(S,{children:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439 \u043d\u0435\u0442"})}),[t,r]);return(0,B.jsxs)(E,{children:[(0,B.jsx)(A.mr,{title:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438",search:i,count:"".concat(t.length," \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439"),onChangeSearch:a,buttonText:g(G.G.ADMIN,"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"),onButtonClick:g(G.G.ADMIN,v)}),(0,B.jsxs)(R,{children:[(0,B.jsx)(A.Ph,{value:s.values.roles,options:u,loading:c,onChange:o("roles"),placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0440\u043e\u043b\u0438",multi:!0,searchable:!0}),(0,B.jsx)(A.Ph,{value:s.values.status,options:l,onChange:o("status"),placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u0442\u0430\u0442\u0443\u0441\u044b",multi:!0}),(0,B.jsx)(A.zx,{text:"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c",onClick:p})]}),Z,h&&(0,B.jsx)(rn,{onClose:m,refetch:e}),d&&(0,B.jsx)(wn,{user:d,onClose:function(){x(void 0)},refetch:e})]})}},5204:function(n,e,t){t.d(e,{E:function(){return i}});var r=t(3494),i=function(){var n=(0,r.aC)().user;return{execIf:function(e,t){return null!==n&&void 0!==n&&n.roles.map((function(n){return n.value})).includes(e)?t:null}}}}}]);
//# sourceMappingURL=150.ee937bfc.chunk.js.map
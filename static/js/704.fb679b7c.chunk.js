"use strict";(self.webpackChunkhr_start_up_admin_panel=self.webpackChunkhr_start_up_admin_panel||[]).push([[704],{5602:function(n,e,t){t.d(e,{L:function(){return i},Z:function(){return s}});var i=function(n){return n.CREATED_AT="createdAt",n.VIEWS="views",n}({}),s=function(n){return n.DESC="desc",n.ASC="asc",n}({})},5457:function(n,e,t){t.d(e,{V:function(){return D},w:function(){return k}});var i,s,r,a,o,l,c,u,d=t(1413),p=(t(2791),t(3131)),x=t(6031),f=t(168),h=t(6444),v=t(2450),m=h.ZP.div(i||(i=(0,f.Z)(["\n  display: flex;\n  justify-content: space-evenly;\n  gap: 16px;\n"]))),g=(0,h.ZP)(x.zx)(s||(s=(0,f.Z)(["\n  width: 50%;\n"]))),Z=h.ZP.div(r||(r=(0,f.Z)(["\n  padding: 56px 0;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 16px;\n"]))),j=h.ZP.div(a||(a=(0,f.Z)(["\n  width: 56px;\n  height: 56px;\n  padding: 16px;\n  border-radius: 50%;\n  &.answer {\n    color: ",";\n    background-color: ",";\n  }\n  &.notification {\n    color: ",";\n    background-color: ",";\n  }\n  &.warning {\n    color: ",";\n    background-color: ",";\n  }\n  &.info {\n    color: ",";\n    background-color: ",";\n  }\n"])),v.D.yellow70,v.D.yellow30,v.D.green70,v.D.green30,v.D.red70,v.D.red30,v.D.blue70,v.D.blue30),y=h.ZP.div(o||(o=(0,f.Z)(["\n  text-align: center;\n  width: 100%;\n"]))),w=h.ZP.div(l||(l=(0,f.Z)(["\n  width: 600px;\n  position: relative;\n"]))),b=h.ZP.div(c||(c=(0,f.Z)(["\n  position: absolute;\n  z-index: 1;\n  top: 0;\n  right: 0;\n  cursor: pointer;\n  color: ",";\n  transition: color 0.2s;\n\n  &:hover {\n    color: ",";\n  }\n"])),v.D.gray60,v.D.darkGray150),C=h.ZP.div(u||(u=(0,f.Z)(["\n  font-weight: 600;\n  font-size: 24px;\n  line-height: 32px;\n  letter-spacing: -0.019em;\n"]))),N=t(184),k=function(n){return n.ANSWER="answer",n.NOTIFICATION="notification",n.WARNING="warning",n.INFO="info",n}({}),P={answer:"circle-warning",notification:"circle-information",warning:"warning",info:"circle-information"},D=function(n){var e=n.loading,t=n.className,i=n.title,s=n.type,r=n.closeHandler,a=n.onConfirm,o=n.onOk,l=n.actions,c=n.children;return(0,N.jsx)(x.u_,{open:!0,closeOnDocumentClick:!1,onClose:r,children:(0,N.jsxs)(w,{className:t,children:[(0,N.jsx)(b,{onClick:r,children:(0,N.jsx)(p.I,{type:"close"})}),(0,N.jsxs)(Z,{children:[s&&(0,N.jsx)(j,{className:s,children:(0,N.jsx)(p.I,{type:P[s]})}),i&&(0,N.jsx)(C,{children:i}),(0,N.jsx)(y,{children:c})]}),(0,N.jsx)(m,{children:a?(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(g,(0,d.Z)((0,d.Z)({},null===l||void 0===l?void 0:l.submit),{},{variant:s===k.WARNING?x.Wu.DANGER:x.Wu.FILLED,onClick:a,isLoading:e,disabled:e})),(0,N.jsx)(g,(0,d.Z)((0,d.Z)({},null===l||void 0===l?void 0:l.cancel),{},{id:"ConfirmDialogCancel",variant:x.Wu.OUTLINE,onClick:r,disabled:e}))]}):(0,N.jsx)(g,(0,d.Z)({onClick:o,isLoading:e},null===l||void 0===l?void 0:l.ok))})]})})}},5704:function(n,e,t){t.r(e),t.d(e,{default:function(){return mn}});var i,s,r,a,o,l,c,u,d,p,x,f,h,v,m,g,Z,j,y,w,b,C,N,k,P,D,O=t(9439),E=t(2791),R=t(168),W=t(6444),I=t(2450),S=W.ZP.div(i||(i=(0,R.Z)(["\n  display: flex;\n  flex-direction: column;\n  grid-row-gap: 24px;\n  width: 100%;\n  height: 100%;\n  padding: 24px;\n"]))),A=W.ZP.div(s||(s=(0,R.Z)(["\n  display: grid;\n  grid-template-columns: 1fr;\n  grid-auto-rows: max-content;\n  grid-gap: 14px;\n  width: 100%;\n  height: fit-content;\n  overflow-x: auto;\n"]))),L=W.ZP.div(r||(r=(0,R.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  height: 100%;\n"]))),_=W.ZP.div(a||(a=(0,R.Z)(["\n  --min-width: 231px;\n  grid-gap: 16px;\n  display: grid;\n  grid-template-columns: 231px 231px 231px 340px;\n  width: 100%;\n  padding: 16px;\n  background: ",";\n  box-shadow: 0 7px 15px rgba(0,0,0,.05);\n  border-radius: 10px;\n"])),I.D.white),F=t(6031),z=W.ZP.div(o||(o=(0,R.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n  width: 100%;\n  padding: 10px;\n  border-radius: 5px;\n  border: 1px solid ",";\n  background: ",";\n  cursor: pointer;\n  transition: background-color .3s;\n  border: 1px solid ",";\n\n  &:hover {\n    background: ",";\n  }\n"])),I.D.lightGray40,I.D.white,I.D.lightGray40,I.D.lightGray20),T=W.ZP.div(l||(l=(0,R.Z)(["\n  display: flex;\n  width: 100%;\n  align-items: center;\n  justify-content: space-between;\n"]))),G=W.ZP.div(c||(c=(0,R.Z)(["\n  display: flex;\n  width: fit-content;\n  gap: 10px;\n  align-items: center;\n"]))),V=(W.ZP.div(u||(u=(0,R.Z)(["\n  display: flex;\n  color: ",";\n  width: fit-content;\n  gap: 6px;\n  align-items: center;\n"])),I.D.gray70),W.ZP.div(d||(d=(0,R.Z)(["\n  font-size: 15px;\n  font-weight: 500;\n"])))),M=W.ZP.div(p||(p=(0,R.Z)(["\n  font-size: 14px;\n  color: ",";\n"])),I.D.gray90),H=t(184),U=function(n){var e=n.complaint,t=n.onClick;return(0,H.jsxs)(z,{onClick:t,children:[(0,H.jsxs)(T,{children:[(0,H.jsxs)(V,{children:["# ",e.id]}),(0,H.jsxs)(G,{children:[(0,H.jsx)(F.Xy,{type:e.type}),(0,H.jsx)(F.dc,{status:e.status})]})]}),(0,H.jsxs)(G,{children:[(0,H.jsx)(F.qE,{firstName:e.author.firstName,lastName:e.author.lastName,src:e.author.avatar,userId:e.author.id}),e.author.lastName," ",e.author.firstName," (",e.author.email,")"]}),(0,H.jsx)(M,{children:e.text})]})},q=t(4165),X=t(5861),B=t(6710),Q=W.ZP.div(x||(x=(0,R.Z)(["\n  display: flex;\n  flex-direction: column;\n  grid-row-gap: 18px;\n  width: 100%;\n  height: 100%;\n"]))),J=W.ZP.div(f||(f=(0,R.Z)(["\n  display: flex;\n  align-items: center;\n  gap: 10px;\n  justify-content: space-between;\n  width: 100%;\n"]))),K=(W.ZP.div(h||(h=(0,R.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n  text-align: left;\n"]))),W.ZP.div(v||(v=(0,R.Z)(["\n  text-align: center;\n"]))),W.ZP.div(m||(m=(0,R.Z)(["\n  font-weight: 600;\n  font-size: 18px;\n  line-height: 24px;\n  letter-spacing: -0.014em;\n"])))),Y=(W.ZP.div(g||(g=(0,R.Z)(["\n  display: flex;\n  align-items: center;\n  gap: 10px;\n"]))),W.ZP.div(Z||(Z=(0,R.Z)(["\n  font-size: 24px;\n"]))),W.ZP.div(j||(j=(0,R.Z)(["\n  display: flex;\n  width: 100%;\n  gap: 10px;\n  align-items: center;\n"]))),W.ZP.div(y||(y=(0,R.Z)(["\n  margin-top: auto;\n  display: flex;\n  align-items: center;\n  grid-column-gap: 24px;\n"])))),$=((0,W.ZP)(B.Z)(w||(w=(0,R.Z)(["\n  width: 100% !important;\n"]))),W.ZP.div(b||(b=(0,R.Z)(["\n  font-size: 17px;\n  padding-bottom: 5px;\n  border-bottom: 1px solid ",";\n"])),I.D.lightGray40),W.ZP.div(C||(C=(0,R.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n"]))),W.ZP.div(N||(N=(0,R.Z)(["\n  display: flex;\n  color: ",";\n  width: fit-content;\n  gap: 6px;\n  align-items: center;\n"])),I.D.gray70),W.ZP.div(k||(k=(0,R.Z)(["\n  font-size: 14px;\n  color: ",";\n"])),I.D.gray90),W.ZP.div(P||(P=(0,R.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n  border-radius: 6px;\n  padding: 6px;\n  color: ",";\n  background-color: ",";\n"])),I.D.red90,I.D.red30),t(5457)),nn=t(9514),en=t(595),tn=t(5859),sn=t(5671),rn=t(3144),an=t(46),on=function(){function n(){(0,sn.Z)(this,n)}return(0,rn.Z)(n,null,[{key:"fetchComplaints",value:function(n){return an.e.get("/complaints",{params:n})}},{key:"fetchResolveComplaint",value:function(n){return an.e.post("/complaints/resolve/".concat(n))}},{key:"fetchCloseComplaint",value:function(n){return an.e.post("/complaints/close/".concat(n))}},{key:"fetchUnresolveComplaint",value:function(n){return an.e.post("/complaints/unresolve/".concat(n))}}]),n}(),ln=t(4469),cn=function(n){var e=n.onClose,t=n.refetch,i=n.complaint,s=(0,E.useState)(!1),r=(0,O.Z)(s,2),a=r[0],o=r[1],l=(0,ln.te)(),c=(0,ln.te)(),u=(0,ln.te)(),d=function(){var n=(0,X.Z)((0,q.Z)().mark((function n(){var s;return(0,q.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,o(!0),n.next=4,on.fetchResolveComplaint(i.id);case 4:s=n.sent,(0,nn.x9)(s.data.message),t(),c.close(),e(),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),(0,nn._N)(n.t0);case 14:return n.prev=14,o(!1),n.finish(14);case 17:case"end":return n.stop()}}),n,null,[[0,11,14,17]])})));return function(){return n.apply(this,arguments)}}(),p=function(){var n=(0,X.Z)((0,q.Z)().mark((function n(){var s;return(0,q.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,o(!0),n.next=4,on.fetchCloseComplaint(i.id);case 4:s=n.sent,(0,nn.x9)(s.data.message),t(),l.close(),e(),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),(0,nn._N)(n.t0);case 14:return n.prev=14,o(!1),n.finish(14);case 17:case"end":return n.stop()}}),n,null,[[0,11,14,17]])})));return function(){return n.apply(this,arguments)}}(),x=function(){var n=(0,X.Z)((0,q.Z)().mark((function n(){var s;return(0,q.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,o(!0),n.next=4,on.fetchUnresolveComplaint(i.id);case 4:s=n.sent,(0,nn.x9)(s.data.message),t(),u.close(),e(),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),(0,nn._N)(n.t0);case 14:return n.prev=14,o(!1),n.finish(14);case 17:case"end":return n.stop()}}),n,null,[[0,11,14,17]])})));return function(){return n.apply(this,arguments)}}();return(0,H.jsxs)(F.Bm,{titleText:(0,H.jsxs)(J,{children:[(0,H.jsx)(K,{children:(0,H.jsxs)(F.g2,{tooltip:!0,children:["# ",i.id]})}),(0,H.jsx)(F.Xy,{type:i.type}),(0,H.jsx)(F.dc,{status:i.status})]}),onClose:e,closeOnDocumentClick:!1,children:[(0,H.jsxs)(Q,{children:[(0,H.jsx)(F.bW,{text:"ID:",info:(0,H.jsx)(H.Fragment,{children:i.id})}),(0,H.jsx)(F.bW,{text:"\u0421\u043e\u0434\u0435\u0440\u0436\u0430\u043d\u0438\u0435:",info:(0,H.jsx)(H.Fragment,{children:i.text})}),(0,H.jsx)(F.bW,{text:"\u0410\u0432\u0442\u043e\u0440:",info:(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(F.qE,{firstName:i.author.firstName,lastName:i.author.lastName,src:i.author.avatar,userId:i.author.id}),i.author.lastName," ",i.author.firstName," (",i.author.email,")"]})}),(0,H.jsx)(F.bW,{text:"\u0416\u0430\u043b\u043e\u0431\u0430 \u043d\u0430 ".concat(i.type===tn.pM.POST?"\u043f\u043e\u0441\u0442":"\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",":"),info:i.type===tn.pM.POST?(0,H.jsxs)(H.Fragment,{children:[i.post.title," (",i.post.id,")"]}):(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(F.qE,{firstName:i.user.firstName,lastName:i.user.lastName,src:i.user.avatar,userId:i.user.id}),i.user.lastName," ",i.user.firstName," (",i.user.email,")"]})}),(0,H.jsx)(F.bW,{text:"\u0421\u043e\u0437\u0434\u0430\u043d:",info:(0,en.h)(i.createdAt)}),(0,H.jsx)(F.bW,{text:"\u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d:",info:(0,en.h)(i.updatedAt)}),i.whoResolve&&(0,H.jsx)(F.bW,{text:"\u041a\u0442\u043e ".concat(i.status===tn.P5.RESOLVED?"\u0440\u0435\u0448\u0438\u043b":"\u0437\u0430\u043a\u0440\u044b\u043b",":"),info:(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(F.qE,{firstName:i.whoResolve.firstName,lastName:i.whoResolve.lastName,src:i.whoResolve.avatar,userId:i.whoResolve.id}),i.whoResolve.lastName," ",i.whoResolve.firstName," (",i.whoResolve.email,")"]})}),(0,H.jsx)(Y,{children:i.status===tn.P5.RESOLVED||i.status===tn.P5.CLOSED?(0,H.jsx)(F.zx,{fullWidth:!0,text:"\u041e\u0442\u043a\u0440\u044b\u0442\u044c",onClick:u.open}):(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(F.zx,{fullWidth:!0,onClick:c.open,text:"\u0420\u0435\u0448\u0438\u0442\u044c"}),(0,H.jsx)(F.zx,{fullWidth:!0,onClick:l.open,variant:F.Wu.DANGER,text:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"})]})})]}),c.isOpen&&(0,H.jsxs)($.V,{type:$.w.INFO,closeHandler:c.close,onConfirm:d,actions:{cancel:{text:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c",onClick:c.close},submit:{isLoading:a,text:"\u0420\u0435\u0448\u0438\u0442\u044c"}},children:['\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u0436\u0430\u043b\u043e\u0431\u0443 "',i.id,'" \u0440\u0435\u0448\u0435\u043d\u043d\u043e\u0439?']}),l.isOpen&&(0,H.jsxs)($.V,{type:$.w.WARNING,closeHandler:l.close,onConfirm:p,actions:{cancel:{text:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c",onClick:l.close},submit:{isLoading:a,text:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"}},children:['\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0437\u0430\u043a\u0440\u044b\u0442\u044c \u0436\u0430\u043b\u043e\u0431\u0443 "',i.id,'"?']}),u.isOpen&&(0,H.jsxs)($.V,{type:$.w.WARNING,closeHandler:u.close,onConfirm:x,actions:{cancel:{text:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c",onClick:u.close},submit:{isLoading:a,text:"\u041e\u0442\u043a\u0440\u044b\u0442\u044c"}},children:['\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u043e\u0442\u043a\u0440\u044b\u0442\u044c \u0436\u0430\u043b\u043e\u0431\u0443 "',i.id,'"?']})]})},un=t(3433),dn=t(4942),pn=t(5705),xn=t(5602),fn=(0,dn.Z)({},tn.yT.CREATED_AT,(D={},(0,dn.Z)(D,xn.Z.ASC,"\u0421\u043d\u0430\u0447\u0430\u043b\u0430 \u0441\u0442\u0430\u0440\u044b\u0435"),(0,dn.Z)(D,xn.Z.DESC,"\u0421\u043d\u0430\u0447\u0430\u043b\u0430 \u043d\u043e\u0432\u044b\u0435"),D)),hn=Object.values(tn.yT).reduce((function(n,e){return[].concat((0,un.Z)(n),(0,un.Z)(Object.values(xn.Z).map((function(n){return{value:"".concat(e,"_").concat(n),label:fn[e][n],meta:{key:e,value:n}}}))))}),[]),vn=function(){var n=(0,E.useState)(!0),e=(0,O.Z)(n,2),t=e[0],i=e[1],s=(0,E.useState)([]),r=(0,O.Z)(s,2),a=r[0],o=r[1],l=(0,pn.TA)({initialValues:{sort:hn[0]},onSubmit:function(){}}),c=(0,ln.UV)();(0,E.useEffect)((function(){c.getUsers()}),[]),(0,E.useEffect)((function(){u()}),[l.values.users,l.values.status,l.values.sort,l.values.types]);var u=function(){var n=(0,X.Z)((0,q.Z)().mark((function n(){var e,t,s,r,a,c,u,d;return(0,q.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,i(!0),s=l.values,r=s.users,a=s.status,c=s.sort,u=s.types,n.next=5,on.fetchComplaints({user:null===r||void 0===r?void 0:r.value,status:null===a||void 0===a?void 0:a.value,type:null===u||void 0===u?void 0:u.value,sort:null===(e=c.meta)||void 0===e?void 0:e.key,sortValue:null===(t=c.meta)||void 0===t?void 0:t.value});case 5:d=n.sent,o(d.data),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),(0,nn._N)(n.t0);case 12:return n.prev=12,i(!1),n.finish(12);case 15:case"end":return n.stop()}}),n,null,[[0,9,12,15]])})));return function(){return n.apply(this,arguments)}}(),d=(0,E.useMemo)((function(){return c.users.map((function(n){return{value:n.id,label:n.email,customize:{avatarSrc:n.avatar,avatarFirstName:n.firstName,avatarLastName:n.lastName}}}))}),[c.users]),p=(0,E.useMemo)((function(){return Object.values(tn.P5).map((function(n){return{value:n,label:n}}))}),[]),x=(0,E.useMemo)((function(){return Object.values(tn.pM).map((function(n){return{value:n,label:F.ab[n]}}))}),[]);return{form:l,usersOptions:d,typesOptions:x,usersRes:c,sortOptions:hn,complaints:a,statusOptions:p,createSelectChangeHandler:function(n){return function(e){l.setFieldValue(n,e)}},isLoading:t,getComplaints:u,reset:function(){l.resetForm()}}},mn=function(){var n=(0,E.useState)(),e=(0,O.Z)(n,2),t=e[0],i=e[1],s=vn(),r=s.form,a=s.getComplaints,o=s.complaints,l=s.typesOptions,c=s.usersOptions,u=s.usersRes,d=s.createSelectChangeHandler,p=s.isLoading,x=s.statusOptions,f=s.sortOptions,h=s.reset,v=(0,E.useMemo)((function(){return p?(0,H.jsx)(F.QP,{}):o.length?(0,H.jsx)(A,{children:o.map((function(n){return(0,H.jsx)(U,{complaint:n,onClick:function(){return i(n)}},n.id)}))}):(0,H.jsx)(L,{children:"\u0416\u0430\u043b\u043e\u0431 \u043d\u0435\u0442"})}),[o,p]);return(0,H.jsxs)(S,{children:[(0,H.jsx)(F.mr,{title:"\u0416\u0430\u043b\u043e\u0431\u044b",count:"".concat(o.length," \u0436\u0430\u043b\u043e\u0431")}),(0,H.jsxs)(_,{children:[(0,H.jsx)(F.Ph,{value:r.values.types,options:l,onChange:d("types"),placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043d\u0430 \u0447\u0442\u043e \u0436\u0430\u043b\u043e\u0431\u0430"}),(0,H.jsx)(F.Ph,{value:r.values.users,options:c,loading:u.isLoading,onChange:d("users"),placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0430\u0432\u0442\u043e\u0440\u0430"}),(0,H.jsx)(F.Ph,{value:r.values.status,options:x,onChange:d("status"),placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u0442\u0430\u0442\u0443\u0441"}),(0,H.jsx)(F.Ph,{value:r.values.sort,options:f,onChange:d("sort"),placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0443"}),(0,H.jsx)(F.zx,{text:"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c",onClick:h})]}),v,t&&(0,H.jsx)(cn,{complaint:t,onClose:function(){return i(void 0)},refetch:a})]})}}}]);
//# sourceMappingURL=704.fb679b7c.chunk.js.map
"use strict";(self.webpackChunkhr_start_up_admin_panel=self.webpackChunkhr_start_up_admin_panel||[]).push([[993],{5457:function(n,e,t){t.d(e,{V:function(){return D},w:function(){return N}});var i,s,r,a,o,l,c,u,d=t(1413),p=(t(2791),t(3131)),x=t(469),f=t(168),h=t(6444),g=t(2450),v=h.ZP.div(i||(i=(0,f.Z)(["\n  display: flex;\n  justify-content: space-evenly;\n  gap: 16px;\n"]))),m=(0,h.ZP)(x.zx)(s||(s=(0,f.Z)(["\n  width: 50%;\n"]))),Z=h.ZP.div(r||(r=(0,f.Z)(["\n  padding: 56px 0;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 16px;\n"]))),j=h.ZP.div(a||(a=(0,f.Z)(["\n  width: 56px;\n  height: 56px;\n  padding: 16px;\n  border-radius: 50%;\n  &.answer {\n    color: ",";\n    background-color: ",";\n  }\n  &.notification {\n    color: ",";\n    background-color: ",";\n  }\n  &.warning {\n    color: ",";\n    background-color: ",";\n  }\n  &.info {\n    color: ",";\n    background-color: ",";\n  }\n"])),g.D.yellow70,g.D.yellow30,g.D.green70,g.D.green30,g.D.red70,g.D.red30,g.D.blue70,g.D.blue30),b=h.ZP.div(o||(o=(0,f.Z)(["\n  text-align: center;\n"]))),y=h.ZP.div(l||(l=(0,f.Z)(["\n  width: 600px;\n  position: relative;\n"]))),w=h.ZP.div(c||(c=(0,f.Z)(["\n  position: absolute;\n  z-index: 1;\n  top: 0;\n  right: 0;\n  cursor: pointer;\n  color: ",";\n  transition: color 0.2s;\n\n  &:hover {\n    color: ",";\n  }\n"])),g.D.gray60,g.D.darkGray150),P=h.ZP.div(u||(u=(0,f.Z)(["\n  font-weight: 600;\n  font-size: 24px;\n  line-height: 32px;\n  letter-spacing: -0.019em;\n"]))),k=t(184),N=function(n){return n.ANSWER="answer",n.NOTIFICATION="notification",n.WARNING="warning",n.INFO="info",n}({}),C={answer:"circle-warning",notification:"circle-information",warning:"warning",info:"circle-information"},D=function(n){var e=n.loading,t=n.className,i=n.title,s=n.type,r=n.closeHandler,a=n.onConfirm,o=n.onOk,l=n.actions,c=n.children;return(0,k.jsx)(x.u_,{open:!0,onClose:r,children:(0,k.jsxs)(y,{className:t,children:[(0,k.jsx)(w,{onClick:r,children:(0,k.jsx)(p.I,{type:"close"})}),(0,k.jsxs)(Z,{children:[s&&(0,k.jsx)(j,{className:s,children:(0,k.jsx)(p.I,{type:C[s]})}),i&&(0,k.jsx)(P,{children:i}),(0,k.jsx)(b,{children:c})]}),(0,k.jsx)(v,{children:a?(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(m,(0,d.Z)((0,d.Z)({},null===l||void 0===l?void 0:l.submit),{},{variant:s===N.WARNING?x.Wu.DANGER:x.Wu.FILLED,onClick:a,isLoading:e,disabled:e})),(0,k.jsx)(m,(0,d.Z)((0,d.Z)({},null===l||void 0===l?void 0:l.cancel),{},{id:"ConfirmDialogCancel",variant:x.Wu.OUTLINE,onClick:r,disabled:e}))]}):(0,k.jsx)(m,(0,d.Z)({onClick:o,isLoading:e},null===l||void 0===l?void 0:l.ok))})]})})}},2993:function(n,e,t){t.r(e),t.d(e,{default:function(){return mn}});var i,s,r,a,o,l,c,u,d,p,x,f,h,g,v,m,Z,j,b,y,w,P,k,N=t(9439),C=t(2791),D=t(168),I=t(6444),W=t(2450),L=I.ZP.div(i||(i=(0,D.Z)(["\n  display: flex;\n  flex-direction: column;\n  grid-row-gap: 24px;\n  width: 100%;\n  height: 100%;\n  padding: 24px;\n"]))),z=I.ZP.div(s||(s=(0,D.Z)(["\n  display: grid;\n  grid-template-columns: 1fr;\n  grid-auto-rows: max-content;\n  grid-gap: 14px;\n  width: 100%;\n  height: fit-content;\n  overflow-x: auto;\n"]))),G=I.ZP.div(r||(r=(0,D.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  height: 100%;\n"]))),O=I.ZP.div(a||(a=(0,D.Z)(["\n  --min-width: 231px;\n  grid-gap: 16px;\n  display: grid;\n  grid-template-columns: repeat(auto-fill,minmax(var(--min-width),1fr));\n  width: 100%;\n  padding: 16px;\n  background: ",";\n  box-shadow: 0 7px 15px rgba(0,0,0,.05);\n  border-radius: 10px;\n"])),W.D.white),S=t(469),E=I.ZP.div(o||(o=(0,D.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n  width: 100%;\n  padding: 10px;\n  border-radius: 5px;\n  border: 1px solid ",";\n  background: ",";\n  cursor: pointer;\n  transition: background-color .3s;\n  border: 1px solid ",";\n\n  &:hover {\n    background: ",";\n  }\n"])),W.D.lightGray40,W.D.white,W.D.lightGray40,W.D.lightGray20),A=I.ZP.div(l||(l=(0,D.Z)(["\n  display: flex;\n  width: 100%;\n  align-items: center;\n  justify-content: space-between;\n"]))),_=I.ZP.div(c||(c=(0,D.Z)(["\n  display: flex;\n  width: fit-content;\n  gap: 10px;\n  align-items: center;\n"]))),R=I.ZP.div(u||(u=(0,D.Z)(["\n  display: flex;\n  color: ",";\n  width: fit-content;\n  gap: 6px;\n  align-items: center;\n"])),W.D.gray70),F=I.ZP.div(d||(d=(0,D.Z)(["\n  font-size: 15px;\n  font-weight: 500;\n"]))),J=I.ZP.div(p||(p=(0,D.Z)(["\n  font-size: 14px;\n  color: ",";\n"])),W.D.gray90),T=I.ZP.div(x||(x=(0,D.Z)(["\n  display: flex;\n  padding: 4px 6px;\n  border-radius: 6px;\n"]))),V=t(6886),q=t(184),H=function(n){var e=n.tag;return(0,q.jsx)(T,{style:V.i[(0,S.be)(e.id.slice(-1),V.i.length)],children:e.value})},M=t(3131),U=function(n){var e=n.post,t=n.onClick;return(0,q.jsxs)(E,{onClick:t,children:[(0,q.jsxs)(A,{children:[(0,q.jsxs)(F,{children:[e.title," (",e.id,")"]}),(0,q.jsxs)(_,{children:[(0,q.jsxs)(R,{children:[(0,q.jsx)(M.I,{type:"eye",size:M.J.LG}),e.views]}),(0,q.jsxs)(R,{children:[(0,q.jsx)(M.I,{type:"star-filled",size:M.J.LG}),e.favoriteCount]}),(0,q.jsxs)(R,{children:[(0,q.jsx)(M.I,{type:"message",size:M.J.LG}),e.commentsCount]}),(0,q.jsx)(S.qb,{status:e.status})]})]}),(0,q.jsx)(_,{children:e.tags.map((function(n){return(0,q.jsx)(H,{tag:n},n.id)}))}),(0,q.jsxs)(_,{children:[(0,q.jsx)(S.qE,{firstName:e.user.firstName,lastName:e.user.lastName,src:e.user.avatar}),e.user.lastName," ",e.user.firstName," (",e.user.email,")"]}),(0,q.jsx)(J,{children:e.shortDescription})]})},Q=t(4165),B=t(5861),Y=t(6710),K=I.ZP.div(f||(f=(0,D.Z)(["\n  display: flex;\n  flex-direction: column;\n  grid-row-gap: 18px;\n  width: 100%;\n  height: 100%;\n"]))),X=I.ZP.div(h||(h=(0,D.Z)(["\n  display: flex;\n  align-items: center;\n  gap: 10px;\n  justify-content: space-between;\n  width: 100%;\n"]))),$=I.ZP.div(g||(g=(0,D.Z)(["\n  font-weight: 600;\n  font-size: 18px;\n  line-height: 24px;\n  letter-spacing: -0.014em;\n"]))),nn=(I.ZP.div(v||(v=(0,D.Z)(["\n  display: flex;\n  align-items: center;\n  gap: 10px;\n"]))),I.ZP.div(m||(m=(0,D.Z)(["\n  font-size: 24px;\n"]))),I.ZP.div(Z||(Z=(0,D.Z)(["\n  display: flex;\n  width: 100%;\n  gap: 10px;\n  align-items: center;\n"])))),en=I.ZP.div(j||(j=(0,D.Z)(["\n  margin-top: auto;\n  display: flex;\n  align-items: center;\n  grid-column-gap: 24px;\n"]))),tn=((0,I.ZP)(Y.Z)(b||(b=(0,D.Z)(["\n  width: 100% !important;\n"]))),I.ZP.div(y||(y=(0,D.Z)(["\n  font-size: 17px;\n  padding-bottom: 5px;\n  border-bottom: 1px solid ",";\n"])),W.D.lightGray40)),sn=I.ZP.div(w||(w=(0,D.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n"]))),rn=I.ZP.div(P||(P=(0,D.Z)(["\n  display: flex;\n  color: ",";\n  width: fit-content;\n  gap: 6px;\n  align-items: center;\n"])),W.D.gray70),an=I.ZP.div(k||(k=(0,D.Z)(["\n  font-size: 14px;\n  color: ",";\n"])),W.D.gray90),on=t(7518),ln=t(402),cn=t(5457),un=t(9514),dn=t(5671),pn=t(3144),xn=t(46),fn=function(){function n(){(0,dn.Z)(this,n)}return(0,pn.Z)(n,null,[{key:"fetchPosts",value:function(n){return xn.e.get("/admin/posts",{params:n})}},{key:"fetchPostDetail",value:function(n){return xn.e.get("/admin/posts/".concat(n))}},{key:"banPost",value:function(n){return xn.e.post("/admin/posts/ban/".concat(n))}},{key:"unbanPost",value:function(n){return xn.e.post("/admin/posts/unban/".concat(n))}}]),n}(),hn=t(595),gn=function(n){var e=n.onClose,t=n.refetch,i=n.postId,s=(0,C.useState)(),r=(0,N.Z)(s,2),a=r[0],o=r[1],l=(0,C.useState)(!1),c=(0,N.Z)(l,2),u=c[0],d=c[1],p=(0,ln.te)(),x=(null===a||void 0===a?void 0:a.status)===on.J.ACTIVE,f=function(){var n=(0,B.Z)((0,Q.Z)().mark((function n(){var e;return(0,Q.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fn.fetchPostDetail(i);case 3:e=n.sent,o(e.data),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),(0,un._N)(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(){return n.apply(this,arguments)}}(),h=function(){var n=(0,B.Z)((0,Q.Z)().mark((function n(){var i,s;return(0,Q.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,!a){n.next=17;break}if(d(!0),!x){n.next=10;break}return n.next=6,fn.banPost(a.id);case 6:i=n.sent,(0,un.x9)(i.data.message),n.next=14;break;case 10:return n.next=12,fn.unbanPost(a.id);case 12:s=n.sent,(0,un.x9)(s.data.message);case 14:t(),p.close(),e();case 17:n.next=22;break;case 19:n.prev=19,n.t0=n.catch(0),(0,un._N)(n.t0);case 22:return n.prev=22,d(!1),n.finish(22);case 25:case"end":return n.stop()}}),n,null,[[0,19,22,25]])})));return function(){return n.apply(this,arguments)}}();return(0,C.useEffect)((function(){f()}),[i]),(0,q.jsxs)(S.Bm,{titleText:a&&(0,q.jsxs)(X,{children:[(0,q.jsx)($,{children:(0,q.jsxs)(S.g2,{tooltip:!0,children:[a.title," (",a.id,")"]})}),(0,q.jsx)(S.qb,{status:a.status}),(0,q.jsxs)(rn,{children:[(0,q.jsx)(M.I,{type:"eye",size:M.J.LG}),a.views]}),(0,q.jsxs)(rn,{children:[(0,q.jsx)(M.I,{type:"star-filled",size:M.J.LG}),a.favoriteCount]}),(0,q.jsxs)(rn,{children:[(0,q.jsx)(M.I,{type:"message",size:M.J.LG}),a.commentsCount]})]}),onClose:e,closeOnDocumentClick:!1,children:[(0,q.jsx)(K,{children:a?(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(S.bW,{text:"ID:",info:(0,q.jsx)(q.Fragment,{children:a.id})}),(0,q.jsx)(S.bW,{text:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a:",info:(0,q.jsx)(q.Fragment,{children:a.title})}),(0,q.jsx)(S.bW,{text:"\u0410\u0432\u0442\u043e\u0440:",info:(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(S.qE,{firstName:a.user.firstName,lastName:a.user.lastName,src:a.user.avatar}),a.user.lastName," ",a.user.firstName," (",a.user.email,")"]})}),(0,q.jsx)(S.bW,{text:"\u0421\u043e\u0437\u0434\u0430\u043d:",info:(0,hn.h)(null===a||void 0===a?void 0:a.createdAt)}),(0,q.jsx)(S.bW,{text:"\u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d:",info:(0,hn.h)(null===a||void 0===a?void 0:a.updatedAt)}),(0,q.jsx)(S.bW,{text:"\u0422\u0435\u0433\u0438:",info:(0,q.jsx)(nn,{children:a.tags.map((function(n){return(0,q.jsx)(H,{tag:n},n.id)}))})}),(0,q.jsx)(S.bW,{text:"\u041a\u0440\u0430\u0442\u043a\u043e\u0435 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435:",info:(0,q.jsx)(an,{children:a.shortDescription})}),(0,q.jsx)(S.bW,{text:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435:",info:(0,q.jsx)(an,{children:a.description})}),(0,q.jsx)(S.Y7,{url:a.videoUrl}),(0,q.jsxs)(sn,{children:[(0,q.jsx)(tn,{children:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438"}),a.comments.map((function(n){return(0,q.jsx)(S.sv,{comment:n},n.id)}))]}),(0,q.jsx)(en,{children:(0,q.jsx)(S.zx,{fullWidth:!0,onClick:p.open,variant:x?S.Wu.DANGER:S.Wu.FILLED,text:x?"\u0417\u0430\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u0442\u044c":"\u0420\u0430\u0437\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u0442\u044c"})})]}):(0,q.jsx)(S.QP,{})}),p.isOpen&&(0,q.jsxs)(cn.V,{type:x?cn.w.WARNING:cn.w.ANSWER,closeHandler:p.close,onConfirm:h,actions:{cancel:{text:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c",onClick:p.close},submit:{isLoading:u,text:x?"\u0417\u0430\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u0442\u044c":"\u0420\u0430\u0437\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u0442\u044c"}},children:["\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 ",x?"\u0437\u0430\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u0442\u044c":"\u0440\u0430\u0437\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u0442\u044c",' \u043f\u043e\u0441\u0442 "',null===a||void 0===a?void 0:a.title,'"?']})]})},vn=t(5705),mn=function(){var n=(0,C.useState)(),e=(0,N.Z)(n,2),t=e[0],i=e[1],s=function(){var n=(0,C.useState)(!0),e=(0,N.Z)(n,2),t=e[0],i=e[1],s=(0,C.useState)([]),r=(0,N.Z)(s,2),a=r[0],o=r[1],l=(0,C.useState)(""),c=(0,N.Z)(l,2),u=c[0],d=c[1],p=(0,ln.Nr)(u,400),x=(0,vn.TA)({initialValues:{tags:[],users:[],status:[]},onSubmit:function(){}}),f=(0,ln.UV)(),h=(0,ln.e0)();(0,C.useEffect)((function(){f.getUsers(),h.getTags()}),[]),(0,C.useEffect)((function(){g()}),[x.values.users,x.values.tags,p,x.values.status]);var g=function(){var n=(0,B.Z)((0,Q.Z)().mark((function n(){var e,t,s,r,a;return(0,Q.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,i(!0),e=x.values,t=e.users,s=e.tags,r=e.status,n.next=5,fn.fetchPosts({search:p,tags:s.map((function(n){return n.value})),users:t.map((function(n){return n.value})),status:r.map((function(n){return n.value}))});case 5:a=n.sent,o(a.data),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),(0,un._N)(n.t0);case 12:return n.prev=12,i(!1),n.finish(12);case 15:case"end":return n.stop()}}),n,null,[[0,9,12,15]])})));return function(){return n.apply(this,arguments)}}(),v=(0,C.useMemo)((function(){return f.users.map((function(n){return{value:n.id,label:n.email,customize:{avatar:"".concat(n.lastName," ").concat(n.firstName)}}}))}),[f.users]),m=(0,C.useMemo)((function(){return h.tags.map((function(n){return{value:n.id,label:n.value}}))}),[h.tags]),Z=(0,C.useMemo)((function(){return Object.values(on.J).map((function(n){return{value:n,label:n}}))}),[]);return{form:x,usersOptions:v,tagsOptions:m,usersRes:f,tagsRes:h,posts:a,statusOptions:Z,createSelectChangeHandler:function(n){return function(e){x.setFieldValue(n,e)}},handleChangeSearch:function(n){d(n.target.value)},search:u,isLoading:t,getPosts:g}}(),r=s.form,a=s.tagsRes,o=s.tagsOptions,l=s.usersOptions,c=s.usersRes,u=s.createSelectChangeHandler,d=s.posts,p=s.isLoading,x=s.search,f=s.handleChangeSearch,h=s.getPosts,g=s.statusOptions,v=(0,C.useMemo)((function(){return p?(0,q.jsx)(S.QP,{}):d.length?(0,q.jsx)(z,{children:d.map((function(n){return(0,q.jsx)(U,{post:n,onClick:function(){return i(n)}},n.id)}))}):(0,q.jsx)(G,{children:"\u041f\u043e\u0441\u0442\u043e\u0432 \u043d\u0435\u0442\u0443"})}),[d,p]);return(0,q.jsxs)(L,{children:[(0,q.jsx)(S.mr,{title:"\u041f\u043e\u0441\u0442\u044b",search:x,onChangeSearch:f}),(0,q.jsxs)(O,{children:[(0,q.jsx)(S.Ph,{value:r.values.tags,options:o,loading:a.isLoading,onChange:u("tags"),placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0442\u0435\u0433\u0438",multi:!0,searchable:!0}),(0,q.jsx)(S.Ph,{value:r.values.users,options:l,loading:c.isLoading,onChange:u("users"),placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439",multi:!0,searchable:!0}),(0,q.jsx)(S.Ph,{value:r.values.status,options:g,onChange:u("status"),placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u0442\u0430\u0442\u0443\u0441\u044b",multi:!0})]}),v,t&&(0,q.jsx)(gn,{postId:t.id,onClose:function(){return i(void 0)},refetch:h})]})}}}]);
//# sourceMappingURL=993.91337097.chunk.js.map
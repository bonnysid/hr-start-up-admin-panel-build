"use strict";(self.webpackChunkhr_start_up_admin_panel=self.webpackChunkhr_start_up_admin_panel||[]).push([[993],{5457:function(n,e,t){t.d(e,{V:function(){return D},w:function(){return N}});var i,s,r,a,o,l,c,u,d=t(1413),p=(t(2791),t(3131)),x=t(5122),f=t(168),h=t(6444),g=t(2450),v=h.ZP.div(i||(i=(0,f.Z)(["\n  display: flex;\n  justify-content: space-evenly;\n  gap: 16px;\n"]))),m=(0,h.ZP)(x.zx)(s||(s=(0,f.Z)(["\n  width: 50%;\n"]))),Z=h.ZP.div(r||(r=(0,f.Z)(["\n  padding: 56px 0;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 16px;\n"]))),j=h.ZP.div(a||(a=(0,f.Z)(["\n  width: 56px;\n  height: 56px;\n  padding: 16px;\n  border-radius: 50%;\n  &.answer {\n    color: ",";\n    background-color: ",";\n  }\n  &.notification {\n    color: ",";\n    background-color: ",";\n  }\n  &.warning {\n    color: ",";\n    background-color: ",";\n  }\n  &.info {\n    color: ",";\n    background-color: ",";\n  }\n"])),g.D.yellow70,g.D.yellow30,g.D.green70,g.D.green30,g.D.red70,g.D.red30,g.D.blue70,g.D.blue30),b=h.ZP.div(o||(o=(0,f.Z)(["\n  text-align: center;\n"]))),w=h.ZP.div(l||(l=(0,f.Z)(["\n  width: 600px;\n  position: relative;\n"]))),y=h.ZP.div(c||(c=(0,f.Z)(["\n  position: absolute;\n  z-index: 1;\n  top: 0;\n  right: 0;\n  cursor: pointer;\n  color: ",";\n  transition: color 0.2s;\n\n  &:hover {\n    color: ",";\n  }\n"])),g.D.gray60,g.D.darkGray150),P=h.ZP.div(u||(u=(0,f.Z)(["\n  font-weight: 600;\n  font-size: 24px;\n  line-height: 32px;\n  letter-spacing: -0.019em;\n"]))),k=t(184),N=function(n){return n.ANSWER="answer",n.NOTIFICATION="notification",n.WARNING="warning",n.INFO="info",n}({}),C={answer:"circle-warning",notification:"circle-information",warning:"warning",info:"circle-information"},D=function(n){var e=n.loading,t=n.className,i=n.title,s=n.type,r=n.closeHandler,a=n.onConfirm,o=n.onOk,l=n.actions,c=n.children;return(0,k.jsx)(x.u_,{open:!0,onClose:r,children:(0,k.jsxs)(w,{className:t,children:[(0,k.jsx)(y,{onClick:r,children:(0,k.jsx)(p.I,{type:"close"})}),(0,k.jsxs)(Z,{children:[s&&(0,k.jsx)(j,{className:s,children:(0,k.jsx)(p.I,{type:C[s]})}),i&&(0,k.jsx)(P,{children:i}),(0,k.jsx)(b,{children:c})]}),(0,k.jsx)(v,{children:a?(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(m,(0,d.Z)((0,d.Z)({},null===l||void 0===l?void 0:l.submit),{},{variant:s===N.WARNING?x.Wu.DANGER:x.Wu.FILLED,onClick:a,isLoading:e,disabled:e})),(0,k.jsx)(m,(0,d.Z)((0,d.Z)({},null===l||void 0===l?void 0:l.cancel),{},{id:"ConfirmDialogCancel",variant:x.Wu.OUTLINE,onClick:r,disabled:e}))]}):(0,k.jsx)(m,(0,d.Z)({onClick:o,isLoading:e},null===l||void 0===l?void 0:l.ok))})]})})}},2993:function(n,e,t){t.r(e),t.d(e,{default:function(){return cn}});var i,s,r,a,o,l,c,u,d,p,x,f,h,g,v,m,Z,j,b,w=t(9439),y=t(2791),P=t(168),k=t(6444),N=t(2450),C=k.ZP.div(i||(i=(0,P.Z)(["\n  display: flex;\n  flex-direction: column;\n  grid-row-gap: 24px;\n  width: 100%;\n  height: 100%;\n  padding: 24px;\n"]))),D=k.ZP.div(s||(s=(0,P.Z)(["\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  grid-auto-rows: max-content;\n  grid-gap: 14px;\n  width: 100%;\n  height: fit-content;\n  overflow-x: auto;\n"]))),W=k.ZP.div(r||(r=(0,P.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  height: 100%;\n"]))),I=k.ZP.div(a||(a=(0,P.Z)(["\n  --min-width: 231px;\n  grid-gap: 16px;\n  display: grid;\n  grid-template-columns: repeat(auto-fill,minmax(var(--min-width),1fr));\n  width: 100%;\n  padding: 16px;\n  background: ",";\n  box-shadow: 0 7px 15px rgba(0,0,0,.05);\n  border-radius: 10px;\n"])),N.D.white),O=t(5122),S=k.ZP.div(o||(o=(0,P.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n  width: 100%;\n  padding: 10px;\n  border-radius: 5px;\n  border: 1px solid ",";\n  background: ",";\n  cursor: pointer;\n  transition: background-color .3s;\n  border: 1px solid ",";\n\n  &:hover {\n    background: ",";\n  }\n"])),N.D.lightGray40,N.D.white,N.D.lightGray40,N.D.lightGray20),A=k.ZP.div(l||(l=(0,P.Z)(["\n  display: flex;\n  width: 100%;\n  align-items: center;\n  justify-content: space-between;\n"]))),E=k.ZP.div(c||(c=(0,P.Z)(["\n  display: flex;\n  width: 100%;\n  gap: 10px;\n  align-items: center;\n"]))),L=k.ZP.div(u||(u=(0,P.Z)(["\n  font-size: 15px;\n  font-weight: 500;\n"]))),R=k.ZP.div(d||(d=(0,P.Z)(["\n  font-size: 14px;\n  color: ",";\n"])),N.D.gray90),_=k.ZP.div(p||(p=(0,P.Z)(["\n  display: flex;\n  padding: 4px 6px;\n  border-radius: 6px;\n"]))),z=t(6886),F=t(184),G=function(n){var e=n.tag;return(0,F.jsx)(_,{style:z.i[(0,O.be)(e.id.slice(-1),z.i.length)],children:e.value})},T=function(n){var e=n.post,t=n.onClick;return(0,F.jsxs)(S,{onClick:t,children:[(0,F.jsxs)(A,{children:[(0,F.jsxs)(L,{children:[e.title," (",e.id,")"]}),(0,F.jsx)(O.qb,{status:e.status})]}),(0,F.jsx)(E,{children:e.tags.map((function(n){return(0,F.jsx)(G,{tag:n},n.id)}))}),(0,F.jsxs)(E,{children:[(0,F.jsx)(O.qE,{firstName:e.user.firstName,lastName:e.user.lastName,src:e.user.avatar}),e.user.lastName," ",e.user.firstName," (",e.user.email,")"]}),(0,F.jsx)(R,{children:e.shortDescription})]})},V=t(4165),q=t(5861),H=t(6710),M=k.ZP.div(x||(x=(0,P.Z)(["\n  display: flex;\n  flex-direction: column;\n  grid-row-gap: 18px;\n  width: 100%;\n  height: 100%;\n"]))),U=k.ZP.div(f||(f=(0,P.Z)(["\n  display: flex;\n  align-items: center;\n  gap: 10px;\n  justify-content: space-between;\n  width: 100%;\n"]))),J=k.ZP.div(h||(h=(0,P.Z)(["\n  font-weight: 600;\n  font-size: 18px;\n  line-height: 24px;\n  letter-spacing: -0.014em;\n"]))),B=(k.ZP.div(g||(g=(0,P.Z)(["\n  display: flex;\n  align-items: center;\n  gap: 10px;\n"]))),k.ZP.div(v||(v=(0,P.Z)(["\n  font-size: 24px;\n"]))),k.ZP.div(m||(m=(0,P.Z)(["\n  display: flex;\n  width: 100%;\n  gap: 10px;\n  align-items: center;\n"])))),Q=k.ZP.div(Z||(Z=(0,P.Z)(["\n  margin-top: auto;\n  display: flex;\n  align-items: center;\n  grid-column-gap: 24px;\n"]))),Y=((0,k.ZP)(H.Z)(j||(j=(0,P.Z)(["\n  width: 100% !important;\n"]))),k.ZP.div(b||(b=(0,P.Z)(["\n  font-size: 14px;\n  color: ",";\n"])),N.D.gray90)),K=t(7518),X=t(402),$=t(5457),nn=t(9514),en=t(5671),tn=t(3144),sn=t(46),rn=function(){function n(){(0,en.Z)(this,n)}return(0,tn.Z)(n,null,[{key:"fetchPosts",value:function(n){return sn.e.get("/admin/posts",{params:n})}},{key:"banPost",value:function(n){return sn.e.post("/admin/posts/ban/".concat(n))}},{key:"unbanPost",value:function(n){return sn.e.post("/admin/posts/unban/".concat(n))}}]),n}(),an=t(595),on=function(n){var e=n.onClose,t=n.post,i=n.refetch,s=(0,y.useState)(!1),r=(0,w.Z)(s,2),a=r[0],o=r[1],l=(0,X.te)(),c=t.status===K.J.ACTIVE,u=function(){var n=(0,q.Z)((0,V.Z)().mark((function n(){var s,r;return(0,V.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,o(!0),!c){n.next=9;break}return n.next=5,rn.banPost(t.id);case 5:s=n.sent,(0,nn.x9)(s.data.message),n.next=13;break;case 9:return n.next=11,rn.unbanPost(t.id);case 11:r=n.sent,(0,nn.x9)(r.data.message);case 13:i(),l.close(),e(),n.next=21;break;case 18:n.prev=18,n.t0=n.catch(0),(0,nn._N)(n.t0);case 21:return n.prev=21,o(!1),n.finish(21);case 24:case"end":return n.stop()}}),n,null,[[0,18,21,24]])})));return function(){return n.apply(this,arguments)}}();return(0,F.jsxs)(O.Bm,{titleText:(0,F.jsxs)(U,{children:[(0,F.jsx)(J,{children:(0,F.jsxs)(O.g2,{tooltip:!0,children:[t.title," (",t.id,")"]})}),(0,F.jsx)(O.qb,{status:t.status})]}),onClose:e,closeOnDocumentClick:!1,children:[(0,F.jsxs)(M,{children:[(0,F.jsx)(O.bW,{text:"ID:",info:(0,F.jsx)(F.Fragment,{children:t.id})}),(0,F.jsx)(O.bW,{text:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a:",info:(0,F.jsx)(F.Fragment,{children:t.title})}),(0,F.jsx)(O.bW,{text:"\u0410\u0432\u0442\u043e\u0440:",info:(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(O.qE,{firstName:t.user.firstName,lastName:t.user.lastName,src:t.user.avatar}),t.user.lastName," ",t.user.firstName," (",t.user.email,")"]})}),(0,F.jsx)(O.bW,{text:"\u0421\u043e\u0437\u0434\u0430\u043d:",info:(0,an.h)(null===t||void 0===t?void 0:t.createdAt)}),(0,F.jsx)(O.bW,{text:"\u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d:",info:(0,an.h)(null===t||void 0===t?void 0:t.updatedAt)}),(0,F.jsx)(O.bW,{text:"\u0422\u0435\u0433\u0438:",info:(0,F.jsx)(B,{children:t.tags.map((function(n){return(0,F.jsx)(G,{tag:n},n.id)}))})}),(0,F.jsx)(O.bW,{text:"\u041a\u0440\u0430\u0442\u043a\u043e\u0435 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435:",info:(0,F.jsx)(Y,{children:t.shortDescription})}),(0,F.jsx)(O.bW,{text:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435:",info:(0,F.jsx)(Y,{children:t.description})}),(0,F.jsx)(O.Y7,{url:t.videoUrl}),(0,F.jsx)(Q,{children:(0,F.jsx)(O.zx,{fullWidth:!0,onClick:l.open,variant:c?O.Wu.DANGER:O.Wu.FILLED,text:c?"\u0417\u0430\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u0442\u044c":"\u0420\u0430\u0437\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u0442\u044c"})})]}),l.isOpen&&(0,F.jsxs)($.V,{type:c?$.w.WARNING:$.w.ANSWER,closeHandler:l.close,onConfirm:u,actions:{cancel:{text:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c",onClick:l.close},submit:{isLoading:a,text:c?"\u0417\u0430\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u0442\u044c":"\u0420\u0430\u0437\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u0442\u044c"}},children:["\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 ",c?"\u0437\u0430\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u0442\u044c":"\u0440\u0430\u0437\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u0442\u044c",' \u043f\u043e\u0441\u0442 "',t.title,'"?']})]})},ln=t(5705),cn=function(){var n=(0,y.useState)(),e=(0,w.Z)(n,2),t=e[0],i=e[1],s=function(){var n=(0,y.useState)(!0),e=(0,w.Z)(n,2),t=e[0],i=e[1],s=(0,y.useState)([]),r=(0,w.Z)(s,2),a=r[0],o=r[1],l=(0,y.useState)(""),c=(0,w.Z)(l,2),u=c[0],d=c[1],p=(0,X.Nr)(u,400),x=(0,ln.TA)({initialValues:{tags:[],users:[],status:[]},onSubmit:function(){}}),f=(0,X.UV)(),h=(0,X.e0)();(0,y.useEffect)((function(){f.getUsers(),h.getTags()}),[]),(0,y.useEffect)((function(){g()}),[x.values.users,x.values.tags,p,x.values.status]);var g=function(){var n=(0,q.Z)((0,V.Z)().mark((function n(){var e,t,s,r,a;return(0,V.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,i(!0),e=x.values,t=e.users,s=e.tags,r=e.status,n.next=5,rn.fetchPosts({search:p,tags:s.map((function(n){return n.value})),users:t.map((function(n){return n.value})),status:r.map((function(n){return n.value}))});case 5:a=n.sent,o(a.data),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),(0,nn._N)(n.t0);case 12:return n.prev=12,i(!1),n.finish(12);case 15:case"end":return n.stop()}}),n,null,[[0,9,12,15]])})));return function(){return n.apply(this,arguments)}}(),v=(0,y.useMemo)((function(){return f.users.map((function(n){return{value:n.id,label:n.email,customize:{avatar:"".concat(n.lastName," ").concat(n.firstName)}}}))}),[f.users]),m=(0,y.useMemo)((function(){return h.tags.map((function(n){return{value:n.id,label:n.value}}))}),[h.tags]),Z=(0,y.useMemo)((function(){return Object.values(K.J).map((function(n){return{value:n,label:n}}))}),[]);return{form:x,usersOptions:v,tagsOptions:m,usersRes:f,tagsRes:h,posts:a,statusOptions:Z,createSelectChangeHandler:function(n){return function(e){x.setFieldValue(n,e)}},handleChangeSearch:function(n){d(n.target.value)},search:u,isLoading:t,getPosts:g}}(),r=s.form,a=s.tagsRes,o=s.tagsOptions,l=s.usersOptions,c=s.usersRes,u=s.createSelectChangeHandler,d=s.posts,p=s.isLoading,x=s.search,f=s.handleChangeSearch,h=s.getPosts,g=s.statusOptions,v=(0,y.useMemo)((function(){return p?(0,F.jsx)(O.QP,{}):d.length?(0,F.jsx)(D,{children:d.map((function(n){return(0,F.jsx)(T,{post:n,onClick:function(){return i(n)}},n.id)}))}):(0,F.jsx)(W,{children:"\u041f\u043e\u0441\u0442\u043e\u0432 \u043d\u0435\u0442\u0443"})}),[d,p]);return(0,F.jsxs)(C,{children:[(0,F.jsx)(O.mr,{title:"\u041f\u043e\u0441\u0442\u044b",search:x,onChangeSearch:f}),(0,F.jsxs)(I,{children:[(0,F.jsx)(O.Ph,{value:r.values.tags,options:o,loading:a.isLoading,onChange:u("tags"),placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0442\u0435\u0433\u0438",multi:!0,searchable:!0}),(0,F.jsx)(O.Ph,{value:r.values.users,options:l,loading:c.isLoading,onChange:u("users"),placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439",multi:!0,searchable:!0}),(0,F.jsx)(O.Ph,{value:r.values.status,options:g,onChange:u("status"),placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u0442\u0430\u0442\u0443\u0441\u044b",multi:!0})]}),v,t&&(0,F.jsx)(on,{post:t,onClose:function(){return i(void 0)},refetch:h})]})}}}]);
//# sourceMappingURL=993.7a390d3b.chunk.js.map
"use strict";(self.webpackChunkhr_start_up_admin_panel=self.webpackChunkhr_start_up_admin_panel||[]).push([[704],{1970:function(n,e,t){t.d(e,{o:function(){return l}});var s=t(4925),i=t(5671),a=t(3144),r=t(46),o=["id"],l=function(){function n(){(0,i.Z)(this,n)}return(0,a.Z)(n,null,[{key:"fetchPosts",value:function(n){return r.e.get("/admin/posts",{params:n})}},{key:"fetchPostDetail",value:function(n){return r.e.get("/admin/posts/".concat(n))}},{key:"banPost",value:function(n){var e=n.id,t=(0,s.Z)(n,o);return r.e.post("/admin/posts/ban/".concat(e),t)}},{key:"unbanPost",value:function(n){return r.e.post("/admin/posts/unban/".concat(n))}},{key:"deletePost",value:function(n){return r.e.delete("/admin/posts/".concat(n))}}]),n}()},5602:function(n,e,t){t.d(e,{L:function(){return s},Z:function(){return i}});var s=function(n){return n.CREATED_AT="createdAt",n.VIEWS="views",n}({}),i=function(n){return n.DESC="desc",n.ASC="asc",n}({})},278:function(n,e,t){t.d(e,{V:function(){return c}});var s,i=t(168),a=t(6444).ZP.div(s||(s=(0,i.Z)(["\n  display: flex;\n  padding: 4px 6px;\n  border-radius: 6px;\n"]))),r=t(6886),o=t(6031),l=t(184),c=function(n){var e=n.tag;return(0,l.jsx)(a,{style:r.i[(0,o.be)(e.id.slice(-1),r.i.length)],children:e.value})}},5704:function(n,e,t){t.r(e),t.d(e,{default:function(){return bn}});var s,i,a,r,o,l,c,u,d,p,x,f,v,h,m,g,Z,j,b,y,w,N,P,C,k,D,R,W=t(9439),E=t(2791),O=t(168),S=t(6444),A=t(2450),I=S.ZP.div(s||(s=(0,O.Z)(["\n  display: flex;\n  flex-direction: column;\n  grid-row-gap: 24px;\n  width: 100%;\n  height: 100%;\n  padding: 24px;\n"]))),z=S.ZP.div(i||(i=(0,O.Z)(["\n  display: grid;\n  grid-template-columns: 1fr;\n  grid-auto-rows: max-content;\n  grid-gap: 14px;\n  width: 100%;\n  height: fit-content;\n  overflow-x: auto;\n"]))),L=S.ZP.div(a||(a=(0,O.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  height: 100%;\n"]))),G=S.ZP.div(r||(r=(0,O.Z)(["\n  --min-width: 231px;\n  grid-gap: 16px;\n  display: grid;\n  grid-template-columns: 231px 231px 231px 340px;\n  width: 100%;\n  padding: 16px;\n  background: ",";\n  box-shadow: 0 7px 15px rgba(0,0,0,.05);\n  border-radius: 10px;\n"])),A.D.white),_=t(6031),F=S.ZP.div(o||(o=(0,O.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n  width: 100%;\n  padding: 10px;\n  border-radius: 5px;\n  border: 1px solid ",";\n  background: ",";\n  cursor: pointer;\n  transition: background-color .3s;\n  border: 1px solid ",";\n\n  &:hover {\n    background: ",";\n  }\n"])),A.D.lightGray40,A.D.white,A.D.lightGray40,A.D.lightGray20),V=S.ZP.div(l||(l=(0,O.Z)(["\n  display: flex;\n  width: 100%;\n  align-items: center;\n  justify-content: space-between;\n"]))),T=S.ZP.div(c||(c=(0,O.Z)(["\n  display: flex;\n  width: fit-content;\n  gap: 10px;\n  align-items: center;\n"]))),M=(S.ZP.div(u||(u=(0,O.Z)(["\n  display: flex;\n  color: ",";\n  width: fit-content;\n  gap: 6px;\n  align-items: center;\n"])),A.D.gray70),S.ZP.div(d||(d=(0,O.Z)(["\n  font-size: 15px;\n  font-weight: 500;\n"])))),q=S.ZP.div(p||(p=(0,O.Z)(["\n  font-size: 14px;\n  color: ",";\n"])),A.D.gray90),H=t(184),J=function(n){var e=n.complaint,t=n.onClick;return(0,H.jsxs)(F,{onClick:t,children:[(0,H.jsxs)(V,{children:[(0,H.jsxs)(M,{children:["# ",e.id]}),(0,H.jsxs)(T,{children:[(0,H.jsx)(_.Xy,{type:e.type}),(0,H.jsx)(_.dc,{status:e.status})]})]}),(0,H.jsxs)(T,{children:[(0,H.jsx)(_.qE,{firstName:e.author.firstName,lastName:e.author.lastName,src:e.author.avatar,userId:e.author.id}),e.author.lastName," ",e.author.firstName," (",e.author.email,")"]}),(0,H.jsx)(q,{children:e.text})]})},U=t(4165),B=t(5861),Q=t(6710),X=S.ZP.div(x||(x=(0,O.Z)(["\n  display: flex;\n  flex-direction: column;\n  grid-row-gap: 18px;\n  width: 100%;\n  height: 100%;\n"]))),K=S.ZP.div(f||(f=(0,O.Z)(["\n  display: flex;\n  align-items: center;\n  gap: 10px;\n  justify-content: space-between;\n  width: 100%;\n"]))),Y=(S.ZP.div(v||(v=(0,O.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n  text-align: left;\n"]))),S.ZP.div(h||(h=(0,O.Z)(["\n  text-align: center;\n"]))),S.ZP.div(m||(m=(0,O.Z)(["\n  font-weight: 600;\n  font-size: 18px;\n  line-height: 24px;\n  letter-spacing: -0.014em;\n"])))),$=(S.ZP.div(g||(g=(0,O.Z)(["\n  display: flex;\n  align-items: center;\n  gap: 10px;\n"]))),S.ZP.div(Z||(Z=(0,O.Z)(["\n  font-size: 24px;\n"]))),S.ZP.div(j||(j=(0,O.Z)(["\n  display: flex;\n  width: 100%;\n  gap: 10px;\n  align-items: center;\n"]))),S.ZP.div(b||(b=(0,O.Z)(["\n  margin-top: auto;\n  display: flex;\n  align-items: center;\n  grid-column-gap: 24px;\n"])))),nn=S.ZP.div(y||(y=(0,O.Z)(["\n  display: flex;\n  align-items: center;\n  padding: 5px;\n  background-color: ",";\n  cursor: pointer;\n  border-radius: 5px;\n  transition: background-color .3s;\n  \n  &:hover {\n    background-color: ",";\n  }\n"])),A.D.lightGray20,A.D.lightGray50),en=((0,S.ZP)(Q.Z)(w||(w=(0,O.Z)(["\n  width: 100% !important;\n"]))),S.ZP.div(N||(N=(0,O.Z)(["\n  font-size: 17px;\n  padding-bottom: 5px;\n  border-bottom: 1px solid ",";\n"])),A.D.lightGray40),S.ZP.div(P||(P=(0,O.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n"]))),S.ZP.div(C||(C=(0,O.Z)(["\n  display: flex;\n  color: ",";\n  width: fit-content;\n  gap: 6px;\n  align-items: center;\n"])),A.D.gray70),S.ZP.div(k||(k=(0,O.Z)(["\n  font-size: 14px;\n  color: ",";\n"])),A.D.gray90),S.ZP.div(D||(D=(0,O.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n  border-radius: 6px;\n  padding: 6px;\n  color: ",";\n  background-color: ",";\n"])),A.D.red90,A.D.red30),t(5457)),tn=t(9514),sn=t(595),an=t(5859),rn=t(5671),on=t(3144),ln=t(46),cn=function(){function n(){(0,rn.Z)(this,n)}return(0,on.Z)(n,null,[{key:"fetchComplaints",value:function(n){return ln.e.get("/complaints",{params:n})}},{key:"fetchResolveComplaint",value:function(n){return ln.e.post("/complaints/resolve/".concat(n))}},{key:"fetchCloseComplaint",value:function(n){return ln.e.post("/complaints/close/".concat(n))}},{key:"fetchUnresolveComplaint",value:function(n){return ln.e.post("/complaints/unresolve/".concat(n))}}]),n}(),un=t(4469),dn=t(2375),pn=t(7319),xn=function(n){var e=n.onClose,t=n.refetch,s=n.complaint,i=(0,E.useState)(!1),a=(0,W.Z)(i,2),r=a[0],o=a[1],l=(0,un.te)(),c=(0,un.te)(),u=(0,un.te)(),d=(0,E.useState)(),p=(0,W.Z)(d,2),x=p[0],f=p[1],v=(0,E.useState)(),h=(0,W.Z)(v,2),m=h[0],g=h[1],Z=function(){var n=(0,B.Z)((0,U.Z)().mark((function n(){var i;return(0,U.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,o(!0),n.next=4,cn.fetchResolveComplaint(s.id);case 4:i=n.sent,(0,tn.x9)(i.data.message),t(),c.close(),e(),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),(0,tn._N)(n.t0);case 14:return n.prev=14,o(!1),n.finish(14);case 17:case"end":return n.stop()}}),n,null,[[0,11,14,17]])})));return function(){return n.apply(this,arguments)}}(),j=function(){var n=(0,B.Z)((0,U.Z)().mark((function n(){var i;return(0,U.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,o(!0),n.next=4,cn.fetchCloseComplaint(s.id);case 4:i=n.sent,(0,tn.x9)(i.data.message),t(),l.close(),e(),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),(0,tn._N)(n.t0);case 14:return n.prev=14,o(!1),n.finish(14);case 17:case"end":return n.stop()}}),n,null,[[0,11,14,17]])})));return function(){return n.apply(this,arguments)}}(),b=function(){var n=(0,B.Z)((0,U.Z)().mark((function n(){var i;return(0,U.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,o(!0),n.next=4,cn.fetchUnresolveComplaint(s.id);case 4:i=n.sent,(0,tn.x9)(i.data.message),t(),u.close(),e(),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),(0,tn._N)(n.t0);case 14:return n.prev=14,o(!1),n.finish(14);case 17:case"end":return n.stop()}}),n,null,[[0,11,14,17]])})));return function(){return n.apply(this,arguments)}}();return(0,H.jsxs)(_.Bm,{titleText:(0,H.jsxs)(K,{children:[(0,H.jsx)(Y,{children:(0,H.jsxs)(_.g2,{tooltip:!0,children:["# ",s.id]})}),(0,H.jsx)(_.Xy,{type:s.type}),(0,H.jsx)(_.dc,{status:s.status})]}),onClose:e,closeOnDocumentClick:!1,children:[(0,H.jsxs)(X,{children:[(0,H.jsx)(_.bW,{text:"ID:",info:(0,H.jsx)(H.Fragment,{children:s.id})}),(0,H.jsx)(_.bW,{text:"\u0421\u043e\u0434\u0435\u0440\u0436\u0430\u043d\u0438\u0435:",info:(0,H.jsx)(H.Fragment,{children:s.text})}),(0,H.jsx)(_.bW,{text:"\u0410\u0432\u0442\u043e\u0440:",info:(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(_.qE,{firstName:s.author.firstName,lastName:s.author.lastName,src:s.author.avatar,userId:s.author.id}),s.author.lastName," ",s.author.firstName," (",s.author.email,")"]})}),(0,H.jsx)(_.bW,{text:"\u0416\u0430\u043b\u043e\u0431\u0430 \u043d\u0430 ".concat(s.type===an.pM.POST?"\u043f\u043e\u0441\u0442":"\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",":"),info:s.type===an.pM.POST?(0,H.jsxs)(nn,{onClick:function(){var n;g(null===(n=s.post)||void 0===n?void 0:n.id)},children:[s.post.title," (",s.post.id,")"]}):(0,H.jsxs)(nn,{onClick:function(){var n;f(null===(n=s.user)||void 0===n?void 0:n.id)},children:[(0,H.jsx)(_.qE,{firstName:s.user.firstName,lastName:s.user.lastName,src:s.user.avatar,userId:s.user.id}),s.user.lastName," ",s.user.firstName," (",s.user.email,")"]})}),(0,H.jsx)(_.bW,{text:"\u0421\u043e\u0437\u0434\u0430\u043d:",info:(0,sn.h)(s.createdAt)}),(0,H.jsx)(_.bW,{text:"\u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d:",info:(0,sn.h)(s.updatedAt)}),s.whoResolve&&(0,H.jsx)(_.bW,{text:"\u041a\u0442\u043e ".concat(s.status===an.P5.RESOLVED?"\u0440\u0435\u0448\u0438\u043b":"\u0437\u0430\u043a\u0440\u044b\u043b",":"),info:(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(_.qE,{firstName:s.whoResolve.firstName,lastName:s.whoResolve.lastName,src:s.whoResolve.avatar,userId:s.whoResolve.id}),s.whoResolve.lastName," ",s.whoResolve.firstName," (",s.whoResolve.email,")"]})}),(0,H.jsx)($,{children:s.status===an.P5.RESOLVED||s.status===an.P5.CLOSED?(0,H.jsx)(_.zx,{fullWidth:!0,text:"\u041e\u0442\u043a\u0440\u044b\u0442\u044c",onClick:u.open}):(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(_.zx,{fullWidth:!0,onClick:c.open,text:"\u0420\u0435\u0448\u0438\u0442\u044c"}),(0,H.jsx)(_.zx,{fullWidth:!0,onClick:l.open,variant:_.Wu.DANGER,text:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"})]})})]}),c.isOpen&&(0,H.jsxs)(en.V,{type:en.w.INFO,closeHandler:c.close,onConfirm:Z,actions:{cancel:{text:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c",onClick:c.close},submit:{isLoading:r,text:"\u0420\u0435\u0448\u0438\u0442\u044c"}},children:['\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u0436\u0430\u043b\u043e\u0431\u0443 "',s.id,'" \u0440\u0435\u0448\u0435\u043d\u043d\u043e\u0439?']}),l.isOpen&&(0,H.jsxs)(en.V,{type:en.w.WARNING,closeHandler:l.close,onConfirm:j,actions:{cancel:{text:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c",onClick:l.close},submit:{isLoading:r,text:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"}},children:['\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0437\u0430\u043a\u0440\u044b\u0442\u044c \u0436\u0430\u043b\u043e\u0431\u0443 "',s.id,'"?']}),u.isOpen&&(0,H.jsxs)(en.V,{type:en.w.WARNING,closeHandler:u.close,onConfirm:b,actions:{cancel:{text:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c",onClick:u.close},submit:{isLoading:r,text:"\u041e\u0442\u043a\u0440\u044b\u0442\u044c"}},children:['\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u043e\u0442\u043a\u0440\u044b\u0442\u044c \u0436\u0430\u043b\u043e\u0431\u0443 "',s.id,'"?']}),x&&(0,H.jsx)(dn.K,{userId:x,onClose:function(){f(void 0)}}),m&&(0,H.jsx)(pn.l,{postId:m,onClose:function(){g(void 0)}})]})},fn=t(3433),vn=t(4942),hn=t(5705),mn=t(5602),gn=(0,vn.Z)({},an.yT.CREATED_AT,(R={},(0,vn.Z)(R,mn.Z.ASC,"\u0421\u043d\u0430\u0447\u0430\u043b\u0430 \u0441\u0442\u0430\u0440\u044b\u0435"),(0,vn.Z)(R,mn.Z.DESC,"\u0421\u043d\u0430\u0447\u0430\u043b\u0430 \u043d\u043e\u0432\u044b\u0435"),R)),Zn=Object.values(an.yT).reduce((function(n,e){return[].concat((0,fn.Z)(n),(0,fn.Z)(Object.values(mn.Z).map((function(n){return{value:"".concat(e,"_").concat(n),label:gn[e][n],meta:{key:e,value:n}}}))))}),[]),jn=function(){var n=(0,E.useState)(!0),e=(0,W.Z)(n,2),t=e[0],s=e[1],i=(0,E.useState)([]),a=(0,W.Z)(i,2),r=a[0],o=a[1],l=(0,hn.TA)({initialValues:{sort:Zn[0]},onSubmit:function(){}}),c=(0,un.UV)();(0,E.useEffect)((function(){c.getUsers()}),[]),(0,E.useEffect)((function(){u()}),[l.values.users,l.values.status,l.values.sort,l.values.types]);var u=function(){var n=(0,B.Z)((0,U.Z)().mark((function n(){var e,t,i,a,r,c,u,d;return(0,U.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,s(!0),i=l.values,a=i.users,r=i.status,c=i.sort,u=i.types,n.next=5,cn.fetchComplaints({user:null===a||void 0===a?void 0:a.value,status:null===r||void 0===r?void 0:r.value,type:null===u||void 0===u?void 0:u.value,sort:null===(e=c.meta)||void 0===e?void 0:e.key,sortValue:null===(t=c.meta)||void 0===t?void 0:t.value});case 5:d=n.sent,o(d.data),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),(0,tn._N)(n.t0);case 12:return n.prev=12,s(!1),n.finish(12);case 15:case"end":return n.stop()}}),n,null,[[0,9,12,15]])})));return function(){return n.apply(this,arguments)}}(),d=(0,E.useMemo)((function(){return c.users.map((function(n){return{value:n.id,label:n.email,customize:{avatarSrc:n.avatar,avatarFirstName:n.firstName,avatarLastName:n.lastName}}}))}),[c.users]),p=(0,E.useMemo)((function(){return Object.values(an.P5).map((function(n){return{value:n,label:n}}))}),[]),x=(0,E.useMemo)((function(){return Object.values(an.pM).map((function(n){return{value:n,label:_.ab[n]}}))}),[]);return{form:l,usersOptions:d,typesOptions:x,usersRes:c,sortOptions:Zn,complaints:r,statusOptions:p,createSelectChangeHandler:function(n){return function(e){l.setFieldValue(n,e)}},isLoading:t,getComplaints:u,reset:function(){l.resetForm()}}},bn=function(){var n=(0,E.useState)(),e=(0,W.Z)(n,2),t=e[0],s=e[1],i=jn(),a=i.form,r=i.getComplaints,o=i.complaints,l=i.typesOptions,c=i.usersOptions,u=i.usersRes,d=i.createSelectChangeHandler,p=i.isLoading,x=i.statusOptions,f=i.sortOptions,v=i.reset,h=(0,E.useMemo)((function(){return p?(0,H.jsx)(_.QP,{}):o.length?(0,H.jsx)(z,{children:o.map((function(n){return(0,H.jsx)(J,{complaint:n,onClick:function(){return s(n)}},n.id)}))}):(0,H.jsx)(L,{children:"\u0416\u0430\u043b\u043e\u0431 \u043d\u0435\u0442"})}),[o,p]);return(0,H.jsxs)(I,{children:[(0,H.jsx)(_.mr,{title:"\u0416\u0430\u043b\u043e\u0431\u044b",count:"".concat(o.length," \u0436\u0430\u043b\u043e\u0431")}),(0,H.jsxs)(G,{children:[(0,H.jsx)(_.Ph,{value:a.values.types,options:l,onChange:d("types"),placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043d\u0430 \u0447\u0442\u043e \u0436\u0430\u043b\u043e\u0431\u0430"}),(0,H.jsx)(_.Ph,{value:a.values.users,options:c,loading:u.isLoading,onChange:d("users"),placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0430\u0432\u0442\u043e\u0440\u0430"}),(0,H.jsx)(_.Ph,{value:a.values.status,options:x,onChange:d("status"),placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u0442\u0430\u0442\u0443\u0441"}),(0,H.jsx)(_.Ph,{value:a.values.sort,options:f,onChange:d("sort"),placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0443"}),(0,H.jsx)(_.zx,{text:"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c",onClick:v})]}),h,t&&(0,H.jsx)(xn,{complaint:t,onClose:function(){return s(void 0)},refetch:r})]})}},7319:function(n,e,t){t.d(e,{l:function(){return X}});var s,i,a,r,o,l,c,u,d,p,x,f,v,h,m,g=t(4165),Z=t(5861),j=t(9439),b=t(2791),y=t(168),w=t(6444),N=t(2450),P=t(6710),C=w.ZP.div(s||(s=(0,y.Z)(["\n  display: flex;\n  flex-direction: column;\n  grid-row-gap: 18px;\n  width: 100%;\n  height: 100%;\n"]))),k=w.ZP.div(i||(i=(0,y.Z)(["\n  display: flex;\n  align-items: center;\n  gap: 10px;\n  justify-content: space-between;\n  width: 100%;\n"]))),D=w.ZP.div(a||(a=(0,y.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n  text-align: left;\n"]))),R=w.ZP.div(r||(r=(0,y.Z)(["\n  text-align: center;\n"]))),W=w.ZP.div(o||(o=(0,y.Z)(["\n  font-weight: 600;\n  font-size: 18px;\n  line-height: 24px;\n  letter-spacing: -0.014em;\n"]))),E=(w.ZP.div(l||(l=(0,y.Z)(["\n  display: flex;\n  align-items: center;\n  gap: 10px;\n"]))),w.ZP.div(c||(c=(0,y.Z)(["\n  font-size: 24px;\n"]))),w.ZP.div(u||(u=(0,y.Z)(["\n  display: flex;\n  width: 100%;\n  gap: 10px;\n  align-items: center;\n"])))),O=w.ZP.div(d||(d=(0,y.Z)(["\n  margin-top: auto;\n  display: flex;\n  align-items: center;\n  grid-column-gap: 24px;\n"]))),S=((0,w.ZP)(P.Z)(p||(p=(0,y.Z)(["\n  width: 100% !important;\n"]))),w.ZP.div(x||(x=(0,y.Z)(["\n  font-size: 17px;\n  padding-bottom: 5px;\n  border-bottom: 1px solid ",";\n"])),N.D.lightGray40)),A=w.ZP.div(f||(f=(0,y.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n"]))),I=w.ZP.div(v||(v=(0,y.Z)(["\n  display: flex;\n  color: ",";\n  width: fit-content;\n  gap: 6px;\n  align-items: center;\n"])),N.D.gray70),z=w.ZP.div(h||(h=(0,y.Z)(["\n  font-size: 14px;\n  color: ",";\n"])),N.D.gray90),L=w.ZP.div(m||(m=(0,y.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n  border-radius: 6px;\n  padding: 6px;\n  color: ",";\n  background-color: ",";\n"])),N.D.red90,N.D.red30),G=t(6031),_=t(7518),F=t(4469),V=t(5457),T=t(9514),M=t(1970),q=t(278),H=t(595),J=t(3131),U=t(3494),B=t(5639),Q=t(184),X=function(n){var e=n.onClose,t=n.refetch,s=n.postId,i=(0,U.aC)().user,a=(0,b.useState)(),r=(0,j.Z)(a,2),o=r[0],l=r[1],c=(0,b.useState)(!1),u=(0,j.Z)(c,2),d=u[0],p=u[1],x=(0,F.te)(),f=(0,F.te)(),v=(0,b.useState)(""),h=(0,j.Z)(v,2),m=h[0],y=h[1],w=(null===i||void 0===i?void 0:i.roles.map((function(n){return n.value})).includes(B.G.ADMIN))||!1,N=(null===o||void 0===o?void 0:o.status)===_.J.ACTIVE,P=function(){var n=(0,Z.Z)((0,g.Z)().mark((function n(){var e;return(0,g.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,M.o.fetchPostDetail(s);case 3:e=n.sent,l(e.data),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),(0,T._N)(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(){return n.apply(this,arguments)}}(),X=function(){var n=(0,Z.Z)((0,g.Z)().mark((function n(){var s,i;return(0,g.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,!o){n.next=17;break}if(p(!0),!N){n.next=10;break}return n.next=6,M.o.banPost({id:o.id,text:m});case 6:s=n.sent,(0,T.x9)(s.data.message),n.next=14;break;case 10:return n.next=12,M.o.unbanPost(o.id);case 12:i=n.sent,(0,T.x9)(i.data.message);case 14:null===t||void 0===t||t(),x.close(),e();case 17:n.next=22;break;case 19:n.prev=19,n.t0=n.catch(0),(0,T._N)(n.t0);case 22:return n.prev=22,p(!1),n.finish(22);case 25:case"end":return n.stop()}}),n,null,[[0,19,22,25]])})));return function(){return n.apply(this,arguments)}}(),K=function(){var n=(0,Z.Z)((0,g.Z)().mark((function n(){var i;return(0,g.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,!o){n.next=10;break}return p(!0),n.next=5,M.o.deletePost(s);case 5:i=n.sent,(0,T.x9)(i.data.message),null===t||void 0===t||t(),f.close(),e();case 10:n.next=15;break;case 12:n.prev=12,n.t0=n.catch(0),(0,T._N)(n.t0);case 15:return n.prev=15,p(!1),n.finish(15);case 18:case"end":return n.stop()}}),n,null,[[0,12,15,18]])})));return function(){return n.apply(this,arguments)}}();return(0,b.useEffect)((function(){P()}),[s]),(0,Q.jsxs)(G.Bm,{titleText:o&&(0,Q.jsxs)(k,{children:[(0,Q.jsx)(W,{children:(0,Q.jsxs)(G.g2,{tooltip:!0,children:[o.title," (",o.id,")"]})}),(0,Q.jsx)(G.qb,{status:o.status}),(0,Q.jsxs)(I,{children:[(0,Q.jsx)(J.I,{type:"eye",size:J.J.LG}),o.views]}),(0,Q.jsxs)(I,{children:[(0,Q.jsx)(J.I,{type:"star-filled",size:J.J.LG}),o.favoriteCount]}),(0,Q.jsxs)(I,{children:[(0,Q.jsx)(J.I,{type:"message",size:J.J.LG}),o.commentsCount]})]}),onClose:e,closeOnDocumentClick:!1,children:[(0,Q.jsx)(C,{children:o?(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsx)(G.bW,{text:"ID:",info:(0,Q.jsx)(Q.Fragment,{children:o.id})}),(0,Q.jsx)(G.bW,{text:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a:",info:(0,Q.jsx)(Q.Fragment,{children:o.title})}),(0,Q.jsx)(G.bW,{text:"\u0410\u0432\u0442\u043e\u0440:",info:(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsx)(G.qE,{firstName:o.user.firstName,lastName:o.user.lastName,src:o.user.avatar}),o.user.lastName," ",o.user.firstName," (",o.user.email,")"]})}),(0,Q.jsx)(G.bW,{text:"\u0421\u043e\u0437\u0434\u0430\u043d:",info:(0,H.h)(null===o||void 0===o?void 0:o.createdAt)}),(0,Q.jsx)(G.bW,{text:"\u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d:",info:(0,H.h)(null===o||void 0===o?void 0:o.updatedAt)}),(0,Q.jsx)(G.bW,{text:"\u0422\u0435\u0433\u0438:",info:(0,Q.jsx)(E,{children:o.tags.map((function(n){return(0,Q.jsx)(q.V,{tag:n},n.id)}))})}),(0,Q.jsx)(G.bW,{text:"\u041a\u0440\u0430\u0442\u043a\u043e\u0435 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435:",info:(0,Q.jsx)(z,{children:o.shortDescription})}),(0,Q.jsx)(G.bW,{text:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435:",info:(0,Q.jsx)(z,{children:o.description})}),o.banReason&&(0,Q.jsx)(G.bW,{text:"\u041f\u0440\u0438\u0447\u0438\u043d\u0430 \u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u043a\u0438:",info:(0,Q.jsx)(L,{children:o.banReason.text})}),o.banReason&&(0,Q.jsx)(G.bW,{text:"\u041a\u0442\u043e \u0437\u0430\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043b:",info:(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsx)(G.qE,{firstName:o.banReason.user.firstName,lastName:o.banReason.user.lastName,src:o.banReason.user.avatar}),o.banReason.user.lastName," ",o.banReason.user.firstName," (",o.banReason.user.email,")"]})}),(0,Q.jsx)(G.Y7,{url:o.videoUrl}),(0,Q.jsxs)(A,{children:[(0,Q.jsx)(S,{children:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438"}),o.comments.map((function(n){return(0,Q.jsx)(G.sv,{comment:n},n.id)}))]}),(0,Q.jsxs)(O,{children:[[_.J.BANNED,_.J.DELETED].includes(o.status)&&w&&(0,Q.jsx)(G.zx,{fullWidth:!0,onClick:f.open,variant:G.Wu.DANGER,text:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"}),(0,Q.jsx)(G.zx,{fullWidth:!0,onClick:x.open,variant:N?G.Wu.DANGER:G.Wu.FILLED,text:N?"\u0417\u0430\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u0442\u044c":"\u0420\u0430\u0437\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u0442\u044c"})]})]}):(0,Q.jsx)(G.QP,{})}),x.isOpen&&(0,Q.jsx)(V.V,{type:N?V.w.WARNING:V.w.ANSWER,closeHandler:x.close,onConfirm:X,actions:{cancel:{text:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c",onClick:x.close},submit:{isLoading:d,text:N?"\u0417\u0430\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u0442\u044c":"\u0420\u0430\u0437\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u0442\u044c"}},children:(0,Q.jsxs)(D,{children:[(0,Q.jsxs)(R,{children:["\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 ",N?"\u0437\u0430\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u0442\u044c":"\u0440\u0430\u0437\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u0442\u044c",' \u043f\u043e\u0441\u0442 "',null===o||void 0===o?void 0:o.title,'"?']}),N&&(0,Q.jsx)(G.II,{value:m,onChange:function(n){return y(n.target.value)},placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0440\u0438\u0447\u0438\u043d\u0443"})]})}),f.isOpen&&(0,Q.jsxs)(V.V,{type:V.w.WARNING,closeHandler:f.close,onConfirm:K,actions:{cancel:{text:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c",onClick:f.close},submit:{isLoading:d,text:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"}},children:['\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u043f\u043e\u0441\u0442 "',null===o||void 0===o?void 0:o.title,'"?']})]})}}}]);
//# sourceMappingURL=704.ea2c1236.chunk.js.map
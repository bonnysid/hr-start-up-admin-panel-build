"use strict";(self.webpackChunkhr_start_up_admin_panel=self.webpackChunkhr_start_up_admin_panel||[]).push([[150],{5457:function(n,e,t){t.d(e,{V:function(){return P},w:function(){return y}});var r,i,a,s,l,o,u,c,d=t(1413),p=(t(2791),t(3131)),x=t(9353),f=t(168),h=t(6444),v=t(2450),m=h.ZP.div(r||(r=(0,f.Z)(["\n  display: flex;\n  justify-content: space-evenly;\n  gap: 16px;\n"]))),g=(0,h.ZP)(x.zx)(i||(i=(0,f.Z)(["\n  width: 50%;\n"]))),Z=h.ZP.div(a||(a=(0,f.Z)(["\n  padding: 56px 0;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 16px;\n"]))),j=h.ZP.div(s||(s=(0,f.Z)(["\n  width: 56px;\n  height: 56px;\n  padding: 16px;\n  border-radius: 50%;\n  &.answer {\n    color: ",";\n    background-color: ",";\n  }\n  &.notification {\n    color: ",";\n    background-color: ",";\n  }\n  &.warning {\n    color: ",";\n    background-color: ",";\n  }\n  &.info {\n    color: ",";\n    background-color: ",";\n  }\n"])),v.D.yellow70,v.D.yellow30,v.D.green70,v.D.green30,v.D.red70,v.D.red30,v.D.blue70,v.D.blue30),w=h.ZP.div(l||(l=(0,f.Z)(["\n  text-align: center;\n  width: 100%;\n"]))),b=h.ZP.div(o||(o=(0,f.Z)(["\n  width: 600px;\n  position: relative;\n"]))),C=h.ZP.div(u||(u=(0,f.Z)(["\n  position: absolute;\n  z-index: 1;\n  top: 0;\n  right: 0;\n  cursor: pointer;\n  color: ",";\n  transition: color 0.2s;\n\n  &:hover {\n    color: ",";\n  }\n"])),v.D.gray60,v.D.darkGray150),N=h.ZP.div(c||(c=(0,f.Z)(["\n  font-weight: 600;\n  font-size: 24px;\n  line-height: 32px;\n  letter-spacing: -0.019em;\n"]))),k=t(184),y=function(n){return n.ANSWER="answer",n.NOTIFICATION="notification",n.WARNING="warning",n.INFO="info",n}({}),I={answer:"circle-warning",notification:"circle-information",warning:"warning",info:"circle-information"},P=function(n){var e=n.loading,t=n.className,r=n.title,i=n.type,a=n.closeHandler,s=n.onConfirm,l=n.onOk,o=n.actions,u=n.children;return(0,k.jsx)(x.u_,{open:!0,closeOnDocumentClick:!1,onClose:a,children:(0,k.jsxs)(b,{className:t,children:[(0,k.jsx)(C,{onClick:a,children:(0,k.jsx)(p.I,{type:"close"})}),(0,k.jsxs)(Z,{children:[i&&(0,k.jsx)(j,{className:i,children:(0,k.jsx)(p.I,{type:I[i]})}),r&&(0,k.jsx)(N,{children:r}),(0,k.jsx)(w,{children:u})]}),(0,k.jsx)(m,{children:s?(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(g,(0,d.Z)((0,d.Z)({},null===o||void 0===o?void 0:o.submit),{},{variant:i===y.WARNING?x.Wu.DANGER:x.Wu.FILLED,onClick:s,isLoading:e,disabled:e})),(0,k.jsx)(g,(0,d.Z)((0,d.Z)({},null===o||void 0===o?void 0:o.cancel),{},{id:"ConfirmDialogCancel",variant:x.Wu.OUTLINE,onClick:a,disabled:e}))]}):(0,k.jsx)(g,(0,d.Z)({onClick:l,isLoading:e},null===o||void 0===o?void 0:o.ok))})]})})}},150:function(n,e,t){t.r(e),t.d(e,{default:function(){return mn}});var r,i,a,s,l,o,u,c,d,p,x,f,h,v,m,g,Z,j,w,b,C=t(9439),N=t(2791),k=t(168),y=t(6444),I=t(2450),P=y.ZP.div(r||(r=(0,k.Z)(["\n  display: flex;\n  flex-direction: column;\n  grid-row-gap: 24px;\n  width: 100%;\n  height: 100%;\n  padding: 24px;\n"]))),D=y.ZP.div(i||(i=(0,k.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  height: 100%;\n"]))),S=y.ZP.div(a||(a=(0,k.Z)(["\n  display: flex;\n  flex-direction: column;\n  grid-auto-rows: max-content;\n  grid-gap: 14px;\n  width: 100%;\n  height: fit-content;\n  overflow-x: auto;\n"]))),E=y.ZP.div(s||(s=(0,k.Z)(["\n  --min-width: 231px;\n  grid-gap: 16px;\n  display: grid;\n  grid-template-columns: repeat(auto-fill,minmax(var(--min-width),1fr));\n  width: 100%;\n  padding: 16px;\n  background: ",";\n  box-shadow: 0 7px 15px rgba(0,0,0,.05);\n  border-radius: 10px;\n"])),I.D.white),W=t(9353),_=t(4469),L=y.ZP.div(l||(l=(0,k.Z)(["\n  display: flex;\n  align-items: center;\n  grid-column-gap: 10px;\n  width: 100%;\n  background-color: ",";\n  padding: 10px;\n  border-radius: 5px;\n  cursor: pointer;\n  transition: background-color .3s;\n  border: 1px solid ",";\n\n  &:hover {\n    background: ",";\n  }\n"])),I.D.white,I.D.lightGray40,I.D.lightGray20),O=y.ZP.div(o||(o=(0,k.Z)(["\n  display: flex;\n  align-items: center;\n"]))),A=y.ZP.div(u||(u=(0,k.Z)(["\n  display: flex;\n  align-items: center;\n  grid-column-gap: 10px;\n"]))),T=(0,y.ZP)(W.qb)(c||(c=(0,k.Z)(["\n  margin-left: auto;\n"]))),B=t(184),R=function(n){var e=n.user,t=n.onClick;return(0,B.jsxs)(L,{onClick:t,children:[(0,B.jsx)(W.qE,{userId:e.id,src:e.avatar,firstName:e.firstName,lastName:e.lastName}),(0,B.jsxs)(O,{children:[e.lastName," ",e.firstName," (",e.email,")"]}),(0,B.jsx)(A,{children:e.roles.map((function(n){return(0,B.jsx)(W.uU,{role:n.value},n.id)}))}),(0,B.jsx)(T,{status:e.status})]})},z=t(5204),F=t(5639),G=t(4165),U=t(1413),V=t(5861),q=y.ZP.form(d||(d=(0,k.Z)(["\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  height: 100%;\n  grid-row-gap: 24px;\n"]))),H=y.ZP.div(p||(p=(0,k.Z)(["\n  margin-top: auto;\n  display: flex;\n  align-items: center;\n  grid-column-gap: 24px;\n"]))),M=t(5705),J=t(9514),Q=t(5591),X=t(6975),K=t(7834),Y=t(6727),$=Y.Ry().shape({email:Y.Z_().required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435").email("\u041d\u0435 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u0435\u0442 \u0444\u043e\u0440\u043c\u0430\u0442\u0443 email"),firstName:Y.Z_().required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"),lastName:Y.Z_().required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"),password:Y.Z_().required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435")}),nn=function(n){var e=n.refetch,t=n.onClose,r=(0,N.useState)(!1),i=(0,C.Z)(r,2),a=i[0],s=i[1],l=(0,N.useState)(!0),o=(0,C.Z)(l,2),u=o[0],c=o[1],d=(0,N.useState)([]),p=(0,C.Z)(d,2),x=p[0],f=p[1],h=(0,M.TA)({initialValues:{password:"",email:"",lastName:"",roles:[],firstName:""},validationSchema:$,onSubmit:function(){var n=(0,V.Z)((0,G.Z)().mark((function n(r){return(0,G.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,s(!0),n.next=4,Q._.fetchCreateUser((0,U.Z)((0,U.Z)({},r),{},{roles:r.roles.map((function(n){return n.value}))}));case 4:e(),t(),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),(0,J.Hn)(n.t0,h);case 11:return n.prev=11,s(!1),n.finish(11);case 14:case"end":return n.stop()}}),n,null,[[0,8,11,14]])})));return function(e){return n.apply(this,arguments)}}()}),v=function(){var n=(0,V.Z)((0,G.Z)().mark((function n(){var e;return(0,G.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,c(!0),n.next=4,K.m.fetchRoles();case 4:e=n.sent,f(e.data.map((function(n){return{value:n.id,label:n.value}}))),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),(0,J.Hn)(n.t0,h);case 11:return n.prev=11,c(!1),n.finish(11);case 14:case"end":return n.stop()}}),n,null,[[0,8,11,14]])})));return function(){return n.apply(this,arguments)}}();return(0,N.useEffect)((function(){v()}),[]),(0,B.jsx)(W.Bm,{titleText:"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",onClose:t,closeOnDocumentClick:!1,children:(0,B.jsxs)(q,{onSubmit:h.handleSubmit,children:[(0,B.jsx)(W.II,{autoComplete:"email",name:"email",onChange:h.handleChange,value:h.values.email,caption:"Email",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 email",isError:Boolean(h.errors.email),errorText:h.errors.email,onBlur:h.handleBlur}),(0,B.jsx)(W.II,{name:"lastName",onChange:h.handleChange,value:h.values.lastName,caption:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0444\u0430\u043c\u0438\u043b\u0438\u044e",isError:Boolean(h.errors.lastName),errorText:h.errors.lastName,onBlur:h.handleBlur}),(0,B.jsx)(W.II,{name:"firstName",onChange:h.handleChange,value:h.values.firstName,caption:"\u0418\u043c\u044f",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f",isError:Boolean(h.errors.firstName),errorText:h.errors.firstName,onBlur:h.handleBlur}),(0,B.jsx)(W.II,{autoComplete:"new-password",type:"password",name:"password",onChange:h.handleChange,value:h.values.password,caption:"\u041f\u0430\u0440\u043e\u043b\u044c",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",isError:Boolean(h.errors.password),errorText:h.errors.password,onBlur:h.handleBlur}),(0,B.jsx)(X.P,{placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0440\u043e\u043b\u0438",caption:"\u0420\u043e\u043b\u0438",multi:!0,options:x,loading:u,value:h.values.roles,onChange:function(n){h.setFieldValue("roles",n)}}),(0,B.jsxs)(H,{children:[(0,B.jsx)(W.zx,{text:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c",fullWidth:!0,isLoading:a}),(0,B.jsx)(W.zx,{variant:W.Wu.OUTLINE,text:"\u041e\u0442\u043c\u0435\u043d\u0430",fullWidth:!0,onClick:t})]})]})})},en=y.ZP.div(x||(x=(0,k.Z)(["\n  display: flex;\n  flex-direction: column;\n  grid-row-gap: 18px;\n  width: 100%;\n  height: 100%;\n"]))),tn=(0,y.ZP)(W.gx)(f||(f=(0,k.Z)(["\n  width: 100%;\n  text-align: left;\n"]))),rn=y.ZP.form(h||(h=(0,k.Z)(["\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  height: 100%;\n  grid-row-gap: 24px;\n"]))),an=y.ZP.div(v||(v=(0,k.Z)(["\n  display: flex;\n  align-items: center;\n  gap: 10px;\n  justify-content: space-between;\n  width: 100%;\n"]))),sn=y.ZP.div(m||(m=(0,k.Z)(["\n  font-weight: 600;\n  font-size: 18px;\n  line-height: 24px;\n  letter-spacing: -0.014em;\n"]))),ln=y.ZP.div(g||(g=(0,k.Z)(["\n  display: flex;\n  width: 100%;\n  flex-direction: column;\n  align-items: center;\n  grid-gap: 10px;\n"]))),on=y.ZP.div(Z||(Z=(0,k.Z)(["\n  display: flex;\n  align-items: center;\n  gap: 10px;\n"]))),un=y.ZP.div(j||(j=(0,k.Z)(["\n  display: flex;\n  color: ",";\n    padding: 5px;\n    border-radius: 5px;\n    background-color: ",";\n"])),I.D.gray90,I.D.lightGray10),cn=y.ZP.div(w||(w=(0,k.Z)(["\n  font-size: 24px;\n"]))),dn=y.ZP.div(b||(b=(0,k.Z)(["\n  margin-top: auto;\n  display: flex;\n  align-items: center;\n  grid-column-gap: 24px;\n"]))),pn=t(7518),xn=t(5457),fn=t(595),hn=t(7512),vn=function(n){var e=n.onClose,t=n.user,r=n.refetch,i=(0,hn._)().createDialog,a=(0,N.useState)(!1),s=(0,C.Z)(a,2),l=s[0],o=s[1],u=(0,N.useState)(!1),c=(0,C.Z)(u,2),d=c[0],p=c[1],x=(0,N.useState)(!1),f=(0,C.Z)(x,2),h=f[0],v=f[1],m=(0,N.useState)(""),g=(0,C.Z)(m,2),Z=g[0],j=g[1],w=(0,_.te)(),b=(0,_.te)(),k=(0,N.useState)(!0),y=(0,C.Z)(k,2),I=y[0],P=y[1],D=(0,N.useState)([]),S=(0,C.Z)(D,2),E=S[0],L=S[1],O=(0,z.E)().execIf,A=(0,M.TA)({initialValues:{roles:t.roles.map((function(n){return{value:n.id,label:n.value}}))},onSubmit:function(){var n=(0,V.Z)((0,G.Z)().mark((function n(e,i){var a;return(0,G.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=i.resetForm,n.prev=1,v(!0),n.next=5,Q._.changeRoles({roles:e.roles.map((function(n){return n.value})),userId:t.id});case 5:r(),o(!1),a(),(0,J.x9)("\u0420\u043e\u043b\u0438 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u044b"),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(1),(0,J._N)(n.t0);case 14:return n.prev=14,v(!1),n.finish(14);case 17:case"end":return n.stop()}}),n,null,[[1,11,14,17]])})));return function(e,t){return n.apply(this,arguments)}}()}),T=t.status===pn.J.ACTIVE,R=function(){var n=(0,V.Z)((0,G.Z)().mark((function n(){var i,a;return(0,G.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,p(!0),!T){n.next=9;break}return n.next=5,Q._.banUser(t.id);case 5:i=n.sent,(0,J.x9)(i.data.message),n.next=13;break;case 9:return n.next=11,Q._.unbanUser(t.id);case 11:a=n.sent,(0,J.x9)(a.data.message);case 13:r(),w.close(),e(),n.next=21;break;case 18:n.prev=18,n.t0=n.catch(0),(0,J._N)(n.t0);case 21:return n.prev=21,p(!1),n.finish(21);case 24:case"end":return n.stop()}}),n,null,[[0,18,21,24]])})));return function(){return n.apply(this,arguments)}}(),U=function(){var n=(0,V.Z)((0,G.Z)().mark((function n(){var e;return(0,G.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,P(!0),n.next=4,K.m.fetchRoles();case 4:e=n.sent,L(e.data.map((function(n){return{value:n.id,label:n.value}}))),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),(0,J.Hn)(n.t0,A);case 11:return n.prev=11,P(!1),n.finish(11);case 14:case"end":return n.stop()}}),n,null,[[0,8,11,14]])})));return function(){return n.apply(this,arguments)}}(),q=function(n){A.setFieldValue("roles",n)};(0,N.useEffect)((function(){U()}),[]);var H=function(){o(!1),A.resetForm()},X=function(){o(!0),A.setFieldValue("roles",t.roles.map((function(n){return{value:n.id,label:n.value}})))},Y=(0,N.useMemo)((function(){return l?(0,B.jsxs)(rn,{onSubmit:A.handleSubmit,children:[(0,B.jsx)(W.Ph,{placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0440\u043e\u043b\u0438",caption:"\u0420\u043e\u043b\u0438",multi:!0,options:E,loading:I,value:A.values.roles,onChange:q}),(0,B.jsxs)(dn,{children:[(0,B.jsx)(W.zx,{text:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",fullWidth:!0,isLoading:h}),(0,B.jsx)(W.zx,{text:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c",variant:W.Wu.OUTLINE,fullWidth:!0,onClick:H})]})]}):(0,B.jsxs)(B.Fragment,{children:[(0,B.jsxs)(ln,{children:[(0,B.jsx)(W.qE,{userId:null===t||void 0===t?void 0:t.id,firstName:null===t||void 0===t?void 0:t.firstName,lastName:null===t||void 0===t?void 0:t.lastName,src:null===t||void 0===t?void 0:t.avatar,size:W.DZ.EXTRA,figure:"square"}),(0,B.jsxs)(cn,{children:[null===t||void 0===t?void 0:t.lastName," ",null===t||void 0===t?void 0:t.firstName]}),(0,B.jsx)(W.qb,{status:null===t||void 0===t?void 0:t.status})]}),(0,B.jsx)(W.bW,{text:"ID:",info:null===t||void 0===t?void 0:t.id}),(0,B.jsx)(W.bW,{text:"\u0420\u043e\u043b\u0438:",info:(0,B.jsx)(on,{children:null===t||void 0===t?void 0:t.roles.map((function(n){return(0,B.jsx)(W.uU,{role:n.value},n.id)}))})}),(0,B.jsx)(W.bW,{text:"\u041f\u043e\u0447\u0442\u0430:",info:(0,B.jsx)(un,{children:null===t||void 0===t?void 0:t.email})}),(0,B.jsx)(W.bW,{text:"\u0421\u043e\u0437\u0434\u0430\u043d:",info:(0,fn.h)(null===t||void 0===t?void 0:t.createdAt)}),(0,B.jsx)(W.bW,{text:"\u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d:",info:(0,fn.h)(null===t||void 0===t?void 0:t.updatedAt)}),(0,B.jsxs)(dn,{children:[O(F.G.ADMIN,(0,B.jsx)(W.zx,{text:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0440\u043e\u043b\u0438",fullWidth:!0,onClick:X})),(0,B.jsx)(W.zx,{fullWidth:!0,onClick:w.open,variant:T?W.Wu.DANGER:W.Wu.FILLED,text:T?"\u0417\u0430\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u0442\u044c":"\u0420\u0430\u0437\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u0442\u044c"})]})]})}),[l,T,t,h,A,I,E]);return(0,B.jsxs)(W.Bm,{titleText:(0,B.jsxs)(an,{children:[(0,B.jsx)(sn,{children:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"}),(0,B.jsx)(W.zx,{text:"\u041d\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435",onClick:b.open})]}),onClose:e,closeOnDocumentClick:!1,children:[(0,B.jsx)(en,{children:Y}),w.isOpen&&(0,B.jsxs)(xn.V,{type:T?xn.w.WARNING:xn.w.ANSWER,closeHandler:w.close,onConfirm:R,actions:{cancel:{text:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c",onClick:w.close},submit:{isLoading:d,text:T?"\u0417\u0430\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u0442\u044c":"\u0420\u0430\u0437\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u0442\u044c"}},children:["\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 ",T?"\u0437\u0430\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u0442\u044c":"\u0440\u0430\u0437\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u0442\u044c"," \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f ",t.lastName," ",t.firstName," (",t.email,")?"]}),b.isOpen&&(0,B.jsx)(xn.V,{type:xn.w.INFO,closeHandler:b.close,onConfirm:function(){i({userId:t.id,text:Z})},title:"\u041d\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435",actions:{cancel:{text:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c",onClick:b.close},submit:{isLoading:d,text:"\u041d\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435"}},children:(0,B.jsx)(tn,{placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435",value:Z,onChange:function(n){return j(n.target.value)}})})]})},mn=function(){var n=(0,N.useState)(),e=(0,C.Z)(n,2),t=e[0],r=e[1],i=function(){var n=(0,N.useState)(""),e=(0,C.Z)(n,2),t=e[0],r=e[1],i=(0,_.Nr)(t,400),a=(0,_.dc)(),s=a.roles,l=a.getRoles,o=a.isLoading,u=(0,_.UV)(),c=u.getUsers,d=u.users,p=u.isLoading,x=(0,M.TA)({initialValues:{roles:[],status:[]},onSubmit:function(){}});(0,N.useEffect)((function(){l()}),[]),(0,N.useEffect)((function(){f()}),[x.values.roles,i,x.values.status]);var f=function(){var n=(0,V.Z)((0,G.Z)().mark((function n(){var e,t,r;return(0,G.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=x.values,t=e.roles,r=e.status,n.next=3,c({search:i,roles:t.map((function(n){return n.value})),status:r.map((function(n){return n.value}))});case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),h=(0,N.useMemo)((function(){return s.map((function(n){return{value:n.id,label:n.value}}))}),[s]),v=(0,N.useMemo)((function(){return Object.values(pn.J).map((function(n){return{value:n,label:n}}))}),[]);return{form:x,users:d,statusOptions:v,rolesOptions:h,createSelectChangeHandler:function(n){return function(e){x.setFieldValue(n,e)}},handleChangeSearch:function(n){r(n.target.value)},search:t,isRolesLoading:o,isLoading:p,fetchUsers:f}}(),a=i.fetchUsers,s=i.users,l=i.isLoading,o=i.search,u=i.handleChangeSearch,c=i.form,d=i.createSelectChangeHandler,p=i.statusOptions,x=i.rolesOptions,f=i.isRolesLoading,h=(0,_.te)(),v=h.isOpen,m=h.open,g=h.close,Z=(0,z.E)().execIf,j=(0,N.useMemo)((function(){return l?(0,B.jsx)(W.QP,{}):s.length?(0,B.jsx)(S,{children:s.map((function(n){return(0,B.jsx)(R,{user:n,refetch:a,onClick:function(){r(n)}},n.id)}))}):(0,B.jsx)(D,{children:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439 \u043d\u0435\u0442"})}),[s,l]);return(0,B.jsxs)(P,{children:[(0,B.jsx)(W.mr,{title:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438",search:o,onChangeSearch:u,buttonText:Z(F.G.ADMIN,"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"),onButtonClick:Z(F.G.ADMIN,m)}),(0,B.jsxs)(E,{children:[(0,B.jsx)(W.Ph,{value:c.values.roles,options:x,loading:f,onChange:d("roles"),placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0440\u043e\u043b\u0438",multi:!0,searchable:!0}),(0,B.jsx)(W.Ph,{value:c.values.status,options:p,onChange:d("status"),placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u0442\u0430\u0442\u0443\u0441\u044b",multi:!0})]}),j,v&&(0,B.jsx)(nn,{onClose:g,refetch:a}),t&&(0,B.jsx)(vn,{user:t,onClose:function(){r(void 0)},refetch:a})]})}},5204:function(n,e,t){t.d(e,{E:function(){return i}});var r=t(3494),i=function(){var n=(0,r.aC)().user;return{execIf:function(e,t){return null!==n&&void 0!==n&&n.roles.map((function(n){return n.value})).includes(e)?t:null}}}}}]);
//# sourceMappingURL=150.f11adf93.chunk.js.map